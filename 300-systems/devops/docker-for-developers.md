---
title: "Docker –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤: –æ—Ç —Ö–∞–æ—Å–∞ –∫ –ø–æ—Ä—è–¥–∫—É"
created: 2025-11-24
modified: 2026-02-13
type: tutorial
status: published
confidence: high
sources_verified: true
tags:
  - topic/devops
  - devops/docker
  - devops/containers
  - tools/docker
  - type/tutorial
  - level/intermediate
related:
  - "[[microservices-vs-monolith]]"
  - "[[technical-debt]]"
  - "[[networking-overview]]"
  - "[[os-networking]]"
prerequisites:
  - "[[git-workflows]]"
reading_time: 16
difficulty: 5
study_status: not_started
mastery: 0
last_reviewed:
next_review:
---

# Docker –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤: –æ—Ç —Ö–∞–æ—Å–∞ –∫ –ø–æ—Ä—è–¥–∫—É

> **–ê–Ω–∞–ª–æ–≥–∏—è –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è:** Docker ‚Äî —ç—Ç–æ –∫–∞–∫ **–º–æ—Ä—Å–∫–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** –¥–ª—è –ø–µ—Ä–µ–≤–æ–∑–∫–∏ –≥—Ä—É–∑–æ–≤. –î–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: –∫–∞–∂–¥—ã–π –≥—Ä—É–∑ —É–ø–∞–∫–æ–≤—ã–≤–∞–ª–∏ –ø–æ-—Å–≤–æ–µ–º—É, –∫—Ä–∞–Ω—ã –∏ –∫–æ—Ä–∞–±–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã–ª–∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–¥ –∫–∞–∂–¥—ã–π —Ç–∏–ø. –° –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–≥—Ä—É–∑–∫–∏ ‚Äî –ª—é–±–æ–π –∫–æ—Ä–∞–±–ª—å, –ª—é–±–æ–π –∫—Ä–∞–Ω, –ª—é–±–æ–π –ø–æ—Ä—Ç. Docker –¥–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è —Å–æ—Ñ—Ç–∞: —É–ø–∞–∫–æ–≤–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ "–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä" ‚Äî –∏ –æ–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ –Ω–∞ —Ç–≤–æ—ë–º –º–∞–∫–µ, —Å–µ—Ä–≤–µ—Ä–µ, –≤ AWS –∏–ª–∏ Google Cloud. Netflix –∑–∞–ø—É—Å–∫–∞–µ—Ç 500,000 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ –¥–µ–Ω—å –∏–º–µ–Ω–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏–∏.

Docker ‚Äî –Ω–µ "–¥–ª—è DevOps", –∞ –¥–ª—è –≤—Å–µ—Ö. –£–ø–∞–∫–æ–≤—ã–≤–∞–µ—à—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ + –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –æ–±—Ä–∞–∑. –û–±—Ä–∞–∑ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤–µ–∑–¥–µ: –Ω–∞ —Ç–≤–æ—ë–º –º–∞–∫–µ, –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –≤ –æ–±–ª–∞–∫–µ. "–£ –º–µ–Ω—è —Ä–∞–±–æ—Ç–∞–µ—Ç" ‚Üí "–†–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ".

---

## Prerequisites (–ß—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –∑–∞—Ä–∞–Ω–µ–µ)

| –¢–µ–º–∞ | –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ | –ì–¥–µ –∏–∑—É—á–∏—Ç—å |
|------|-------------|-------------|
| **Linux basics** | Docker –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ Linux-–º–µ—Ö–∞–Ω–∏–∑–º–∞—Ö (namespaces, cgroups) | –õ—é–±–æ–π –∫—É—Ä—Å Linux |
| **–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞** | 90% —Ä–∞–±–æ—Ç—ã —Å Docker ‚Äî —á–µ—Ä–µ–∑ CLI | –ë–∞–∑–æ–≤—ã–π bash/terminal |
| **–ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–æ—Ü–µ—Å—Å** | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä = –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å | –û—Å–Ω–æ–≤—ã –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º |
| **–°–µ—Ç—å (basics)** | –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤, localhost, IP | [[networking-overview]] |
| **YAML —Å–∏–Ω—Ç–∞–∫—Å–∏—Å** | docker-compose.yml –ø–∏—à–µ—Ç—Å—è –Ω–∞ YAML | 15-–º–∏–Ω—É—Ç–Ω—ã–π —Ç—É—Ç–æ—Ä–∏–∞–ª |

---

## TL;DR (–µ—Å–ª–∏ —Å–æ–≤—Å–µ–º –Ω–µ—Ç –≤—Ä–µ–º–µ–Ω–∏)

- **Docker** = —É–ø–∞–∫–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–æ –≤—Å–µ–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –≤ –ø–µ—Ä–µ–Ω–æ—Å–∏–º—ã–π –æ–±—Ä–∞–∑
- **Image (–æ–±—Ä–∞–∑)** = read-only —à–∞–±–ª–æ–Ω, **Container** = –∑–∞–ø—É—â–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—Ä–∞–∑–∞
- **Multi-stage build** = builder stage (–∫–æ–º–ø–∏–ª—è—Ü–∏—è) ‚Üí production stage (—Ç–æ–ª—å–∫–æ runtime), —ç–∫–æ–Ω–æ–º–∏—è 60-80% —Ä–∞–∑–º–µ—Ä–∞
- **Netflix** –∑–∞–ø—É—Å–∫–∞–µ—Ç 500,000 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤/–¥–µ–Ω—å, Spotify ‚Äî 10M –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ –Ω–∞ Kubernetes
- **–ë–∞–∑–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã**: `slim` = –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π (~150MB), `alpine` = –µ—â—ë –º–µ–Ω—å—à–µ (~50MB, –Ω–æ –º–æ–∂–µ—Ç –ª–æ–º–∞—Ç—å –ø–∞–∫–µ—Ç—ã)
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –Ω–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –æ—Ç root, –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –≤ –æ–±—Ä–∞–∑–µ, —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å Trivy
- **2025 —Ç—Ä–µ–Ω–¥**: Docker –¥–ª—è dev, containerd –¥–ª—è production (52-70% production —Å—Ä–µ–¥)
- **–ü—Ä–∞–≤–∏–ª–æ —Å–ª–æ—ë–≤**: —Å–Ω–∞—á–∞–ª–∞ —Ä–µ–¥–∫–æ –º–µ–Ω—è—é—â–µ–µ—Å—è (requirements), –ø–æ—Ç–æ–º –∫–æ–¥ ‚Üí –±—ã—Å—Ç—Ä—ã–π –∫—ç—à

---

## –ö—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Docker –≤ production

| –ö–æ–º–ø–∞–Ω–∏—è | –ú–∞—Å—à—Ç–∞–± | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|----------|---------|------------|-----------|
| **Netflix** | 500,000 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤/–¥–µ–Ω—å | Titus, Docker –Ω–∞ AWS | –ú–∏–ª–ª–∏–æ–Ω—ã batch jobs –µ–∂–µ–¥–Ω–µ–≤–Ω–æ |
| **Spotify** | 10M+ –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ | Kubernetes, Helios | CPU utilization —É–ª—É—á—à–∏–ª—Å—è –≤ 2-3x |
| **Uber** | –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å–µ—Ç—å | Docker microservices | –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –¥–µ–ø–ª–æ–π –∫–æ–º–∞–Ω–¥ |
| **PayPal** | –§–∏–Ω—Ç–µ—Ö-–º–∞—Å—à—Ç–∞–± | Docker + Kubernetes | –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–ª–∏–∑–æ–≤ –≤—ã—Ä–æ—Å–ª–∞ 10x |
| **Google** | –ú–∏–ª–ª–∏–∞—Ä–¥—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤/–Ω–µ–¥–µ–ª—é | Borg ‚Üí Kubernetes | –°–æ–∑–¥–∞—Ç–µ–ª–∏ Kubernetes |

> **–ò—Å—Ç–æ—á–Ω–∏–∫–∏**: [Kubernetes Case Study: Spotify](https://kubernetes.io/case-studies/spotify/), [Netflix Titus](https://netflix.github.io/titus/)

---

## –¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤

| –¢–µ—Ä–º–∏–Ω | –ß—Ç–æ —ç—Ç–æ | –ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏ |
|--------|---------|-------------------|
| **Image (–û–±—Ä–∞–∑)** | Read-only —à–∞–±–ª–æ–Ω —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º + –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ | **–†–µ—Ü–µ–ø—Ç —Ç–æ—Ä—Ç–∞**: –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å, –Ω–æ –Ω–µ —Å–∞–º —Ç–æ—Ä—Ç |
| **Container** | –ó–∞–ø—É—â–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—Ä–∞–∑–∞ | **–ì–æ—Ç–æ–≤—ã–π —Ç–æ—Ä—Ç –ø–æ —Ä–µ—Ü–µ–ø—Ç—É**: –∏–∑ –æ–¥–Ω–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞ ‚Äî –º–Ω–æ–≥–æ —Ç–æ—Ä—Ç–æ–≤ |
| **Dockerfile** | –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—Ä–∞–∑–∞ | **–ü–æ—à–∞–≥–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç**: "–≤–∑—è—Ç—å –º—É–∫—É, –¥–æ–±–∞–≤–∏—Ç—å —è–π—Ü–∞..." |
| **Registry** | –•—Ä–∞–Ω–∏–ª–∏—â–µ –æ–±—Ä–∞–∑–æ–≤ (Docker Hub, ECR) | **–ö—É–ª–∏–Ω–∞—Ä–Ω–∞—è –∫–Ω–∏–≥–∞**: —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã |
| **Layer (–°–ª–æ–π)** | –ö–∞–∂–¥–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è = –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ª–æ–π | **–°–ª–æ—ë–Ω—ã–π —Ç–æ—Ä—Ç**: –∫–∞–∂–¥—ã–π —Å–ª–æ–π –æ—Ç–¥–µ–ª—å–Ω–æ, –≤–º–µ—Å—Ç–µ ‚Äî —Ç–æ—Ä—Ç |
| **Volume** | –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö | **–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫**: —Ç–æ—Ä—Ç —Å—ä–µ–ª–∏, –Ω–æ –ø—Ä–æ–¥—É–∫—Ç—ã –æ—Å—Ç–∞–ª–∏—Å—å |
| **Docker Daemon** | –§–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å, —É–ø—Ä–∞–≤–ª—è—é—â–∏–π Docker | **–®–µ—Ñ-–ø–æ–≤–∞—Ä –Ω–∞ –∫—É—Ö–Ω–µ**: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–∫–∞–∑—ã, —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–≤–∞—Ä–∞–º–∏ |
| **Multi-stage build** | –°–±–æ—Ä–∫–∞ –≤ —ç—Ç–∞–ø–∞—Ö: build ‚Üí production | **–°—ä—ë–º–∫–∏ —Ñ–∏–ª—å–º–∞**: –¥–µ–∫–æ—Ä–∞—Ü–∏–∏ –≤ –ø–∞–≤–∏–ª—å–æ–Ω–µ, –≤ –∫–∏–Ω–æ ‚Äî —Ç–æ–ª—å–∫–æ —Ñ–∏–Ω–∞–ª |
| **Namespace** | –ò–∑–æ–ª—è—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ (PID, NET, MNT) | **–û—Ç–¥–µ–ª—å–Ω–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞**: —Å–≤–æ–π –∞–¥—Ä–µ—Å, —Å–≤–æ—è –º–µ–±–µ–ª—å |
| **Cgroup** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU, –ø–∞–º—è—Ç—å) | **–ë—é–¥–∂–µ—Ç –∫–≤–∞—Ä—Ç–∏—Ä—ã**: –Ω–µ –±–æ–ª—å—à–µ X —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–∞/–≤–æ–¥—ã |
| **slim** | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ (~150MB) | **–õ—ë–≥–∫–∏–π —á–µ–º–æ–¥–∞–Ω**: —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ–µ –¥–ª—è –ø–æ–µ–∑–¥–∫–∏ |
| **alpine** | –ï—â—ë –º–µ–Ω—å—à–µ (~5MB), –Ω–æ musl –≤–º–µ—Å—Ç–æ glibc | **–†—É—á–Ω–∞—è –∫–ª–∞–¥—å**: –º–∏–Ω–∏–º—É–º, –Ω–æ –Ω–µ –≤—Å—ë –≤–ª–µ–∑–µ—Ç |
| **HEALTHCHECK** | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ | **–î–∞—Ç—á–∏–∫ –¥—ã–º–∞**: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç "–≤—Å—ë –ª–∏ –≤ –ø–æ—Ä—è–¥–∫–µ?" |
| **.dockerignore** | –ò—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ COPY | **.gitignore –¥–ª—è Docker**: –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ª–∏—à–Ω–µ–µ |
| **depends_on** | –ü–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫–∞ (–ù–ï –∂–¥—ë—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏!) | **–û—á–µ—Ä–µ–¥—å –Ω–∞ –≤—Ö–æ–¥–µ**: –∫—Ç–æ –ø–µ—Ä–≤—ã–π –≤—Å—Ç–∞–ª, –Ω–æ –Ω–µ –∂–¥—ë—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ |
| **Trivy/Snyk** | –°–∫–∞–Ω–µ—Ä—ã —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π | **–ú–µ—Ç–∞–ª–ª–æ–¥–µ—Ç–µ–∫—Ç–æ—Ä**: –∏—â–µ—Ç –æ–ø–∞—Å–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã –≤ –±–∞–≥–∞–∂–µ |

---

## –ò—Å—Ç–æ—Ä–∏—è: –∑–∞—á–µ–º –≤–æ–æ–±—â–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

–ü—Ä–µ–¥—Å—Ç–∞–≤—å: 2010 –≥–æ–¥. –¢—ã –¥–µ–ø–ª–æ–∏—à—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

```
–¢–≤–æ—è –º–∞—à–∏–Ω–∞:
- Python 3.8
- PostgreSQL 12
- Redis 6
- Ubuntu 20.04

–°–µ—Ä–≤–µ—Ä –∑–∞–∫–∞–∑—á–∏–∫–∞:
- Python 2.7 (!!!)
- PostgreSQL 9
- Redis –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- CentOS 6
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º: "–£ –º–µ–Ω—è —Ä–∞–±–æ—Ç–∞–µ—Ç!" ‚Äî "–ê —É –º–µ–Ω—è –Ω–µ—Ç."

–†–µ—à–µ–Ω–∏—è —Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏:
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã (—Ç—è–∂—ë–ª—ã–µ, –º–µ–¥–ª–µ–Ω–Ω—ã–µ)
- Vagrant (–ª—É—á—à–µ, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ VM)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è "–∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ" –Ω–∞ 15 —Å—Ç—Ä–∞–Ω–∏—Ü (–Ω–∏–∫—Ç–æ –Ω–µ —á–∏—Ç–∞–µ—Ç)

Docker —Ä–µ—à–∏–ª —ç—Ç–æ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ: —É–ø–∞–∫–æ–≤—ã–≤–∞–µ—à—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ –≤—Å–µ–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –≤ –æ–±—Ä–∞–∑. –≠—Ç–æ—Ç –æ–±—Ä–∞–∑ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤–µ–∑–¥–µ ‚Äî –Ω–∞ —Ç–≤–æ—ë–º –º–∞–∫–µ, –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –≤ –æ–±–ª–∞–∫–µ.

*–ó–∞–±–∞–≤–Ω—ã–π —Ñ–∞–∫—Ç: Docker –ø–æ—è–≤–∏–ª—Å—è –≤ 2013, –Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∫–∞–∫ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∏ —Å 1979 –≥–æ–¥–∞ (chroot –≤ Unix). Docker –ø—Ä–æ—Å—Ç–æ —Å–¥–µ–ª–∞–ª –∏—Ö —É–¥–æ–±–Ω—ã–º–∏.*

---

## –ö–∞–∫ Docker —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏

Docker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—Ä–∏ –º–µ—Ö–∞–Ω–∏–∑–º–∞ Linux –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π:

### Namespaces ‚Äî –∏–∑–æ–ª—è—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

Namespaces –¥–µ–ª–∞—é—Ç —Ç–∞–∫, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å "–≤–∏–¥–∏—Ç" —Ç–æ–ª—å–∫–æ —Å–≤–æ—ë –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ HOST SYSTEM                                                   ‚îÇ
‚îÇ                                                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ Container A          ‚îÇ     ‚îÇ Container B          ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ                      ‚îÇ     ‚îÇ                      ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ PID namespace:       ‚îÇ     ‚îÇ PID namespace:       ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  PID 1 = nginx       ‚îÇ     ‚îÇ  PID 1 = python      ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  (–Ω–∞ —Ö–æ—Å—Ç–µ PID 4521) ‚îÇ     ‚îÇ  (–Ω–∞ —Ö–æ—Å—Ç–µ PID 4789) ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ                      ‚îÇ     ‚îÇ                      ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ NET namespace:       ‚îÇ     ‚îÇ NET namespace:       ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  eth0: 172.17.0.2    ‚îÇ     ‚îÇ  eth0: 172.17.0.3    ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ                      ‚îÇ     ‚îÇ                      ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ MNT namespace:       ‚îÇ     ‚îÇ MNT namespace:       ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  /: overlay fs       ‚îÇ     ‚îÇ  /: overlay fs       ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–¢–∏–ø—ã namespaces:**
- **PID** ‚Äî –ø—Ä–æ—Ü–µ—Å—Å—ã –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ PID (PID 1 –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
- **NET** ‚Äî —Å–≤–æ—è —Å–µ—Ç—å, IP, –ø–æ—Ä—Ç—ã
- **MNT** ‚Äî —Å–≤–æ—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- **USER** ‚Äî —Å–≤–æ–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (root –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ ‚â† root –Ω–∞ —Ö–æ—Å—Ç–µ)
- **UTS** ‚Äî —Å–≤–æ–π hostname
- **IPC** ‚Äî —Å–≤–æ—è –º–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è

### Cgroups ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

Control Groups –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç —Å–∫–æ–ª—å–∫–æ —Ä–µ—Å—É—Ä—Å–æ–≤ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

```bash
# –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø–∞–º—è—Ç—å –¥–æ 512MB
docker run --memory=512m my-app

# –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å CPU –¥–æ 1.5 —è–¥–µ—Ä
docker run --cpus=1.5 my-app

# –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å I/O
docker run --device-read-bps /dev/sda:10mb my-app
```

**–ë–µ–∑ cgroups:** –æ–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ—Ç —Å—ä–µ—Å—Ç—å –≤—Å—é –ø–∞–º—è—Ç—å –∏ —É—Ä–æ–Ω–∏—Ç—å —Ö–æ—Å—Ç.
**–° cgroups:** OOM killer —É–±—å—ë—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –Ω–µ —Ö–æ—Å—Ç.

### OverlayFS ‚Äî —Å–ª–æ–∏—Å—Ç–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

–°–ª–æ–∏ –æ–±—Ä–∞–∑–∞ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –µ–¥–∏–Ω—É—é —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É:

```
–ó–∞–ø–∏—Å—å (Copy-on-Write):
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Container writable layer       ‚îÇ ‚Üê –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å—é–¥–∞
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Image layer 3 (app code)       ‚îÇ ‚Üê Read-only
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Image layer 2 (pip packages)   ‚îÇ ‚Üê Read-only
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Image layer 1 (python:slim)    ‚îÇ ‚Üê Read-only
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ö–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–∏—Ç–∞–µ—Ç /app/main.py:
1. –ò—â–µ—Ç –≤ writable layer ‚Üí –Ω–µ –Ω–∞–π–¥–µ–Ω
2. –ò—â–µ—Ç –≤ layer 3 ‚Üí –ù–ê–ô–î–ï–ù ‚Üí —á–∏—Ç–∞–µ—Ç

–ö–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∏—à–µ—Ç /app/main.py:
1. –ö–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª –∏–∑ layer 3 –≤ writable layer (copy-on-write)
2. –ò–∑–º–µ–Ω—è–µ—Ç –∫–æ–ø–∏—é –≤ writable layer
3. –û—Ä–∏–≥–∏–Ω–∞–ª –≤ layer 3 –Ω–µ –∏–∑–º–µ–Ω—ë–Ω
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- 100 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏–∑ –æ–¥–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞ = 1 –∫–æ–ø–∏—è –æ–±—Ä–∞–∑–∞ –Ω–∞ –¥–∏—Å–∫–µ
- –ö–∞–∂–¥—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∏–¥–∏—Ç —Å–≤–æ–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —É–¥–∞–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ writable layer

---

## –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∑–∞ 5 –º–∏–Ω—É—Ç

### Image (–æ–±—Ä–∞–∑)

–°–Ω–∏–º–æ–∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã + –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ. –ö–∞–∫ ISO-–æ–±—Ä–∞–∑ –¥–∏—Å–∫–∞, —Ç–æ–ª—å–∫–æ —É–º–Ω–µ–µ.

```dockerfile
# Dockerfile —Å–æ–∑–¥–∞—ë—Ç –æ–±—Ä–∞–∑
FROM python:3.11-slim
COPY app.py /app/
CMD ["python", "/app/app.py"]
```

**–ü–æ—á–µ–º—É `python:3.11-slim`, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ `python:3.11`?**

–ë–∞–∑–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã –±—ã–≤–∞—é—Ç —Ä–∞–∑–Ω—ã—Ö "—Ä–∞–∑–º–µ—Ä–æ–≤":

| –í–∞—Ä–∏–∞–Ω—Ç | –†–∞–∑–º–µ—Ä | –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ |
|---------|--------|------------|
| `python:3.11` | ~1 GB | –ü–æ–ª–Ω—ã–π Debian + gcc, dev-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| `python:3.11-slim` | ~150 MB | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Debian, —Ç–æ–ª—å–∫–æ runtime |
| `python:3.11-alpine` | ~50 MB | Alpine Linux (musl libc –≤–º–µ—Å—Ç–æ glibc) |

**slim** ‚Äî –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤. –ú–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º —Å–æ –≤—Å–µ–º–∏ Python-–ø–∞–∫–µ—Ç–∞–º–∏.

**alpine** ‚Äî –µ—â—ë –º–µ–Ω—å—à–µ, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç musl –≤–º–µ—Å—Ç–æ glibc. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–∞–∫–µ—Ç—ã (numpy, pandas) —Ç—Ä–µ–±—É—é—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –º–æ–≥—É—Ç –ª–æ–º–∞—Ç—å—Å—è. –ò—Å–ø–æ–ª—å–∑—É–π –µ—Å–ª–∏ —Ç–æ—á–Ω–æ –∑–Ω–∞–µ—à—å —á—Ç–æ –¥–µ–ª–∞–µ—à—å.

### Container (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)

–ó–∞–ø—É—â–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—Ä–∞–∑–∞. –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å 100 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏–∑ –æ–¥–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞.

```bash
# –°–æ–∑–¥–∞—ë–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–∑ –æ–±—Ä–∞–∑–∞
docker run my-app

# –ù–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏–∑ –æ–¥–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞
docker run --name app1 my-app
docker run --name app2 my-app
docker run --name app3 my-app
```

### Layer (—Å–ª–æ–π) ‚Äî –ø–æ—á–µ–º—É Docker —Ç–∞–∫–æ–π –±—ã—Å—Ç—Ä—ã–π

–ü—Ä–µ–¥—Å—Ç–∞–≤—å —Å–ª–æ—ë–Ω—ã–π —Ç–æ—Ä—Ç. –ö–∞–∂–¥—ã–π —Å–ª–æ–π ‚Äî —ç—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–≤–µ—Ä—Ö –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ.

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ COPY . . (—Ç–≤–æ–π –∫–æ–¥)         ‚îÇ  ‚Üê –°–ª–æ–π 4: –º–µ–Ω—è–µ—Ç—Å—è —á–∞—Å—Ç–æ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ RUN pip install -r ...      ‚îÇ  ‚Üê –°–ª–æ–π 3: –º–µ–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ COPY requirements.txt .     ‚îÇ  ‚Üê –°–ª–æ–π 2: –º–µ–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ FROM python:3.11            ‚îÇ  ‚Üê –°–ª–æ–π 1: –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ú–∞–≥–∏—è —Å–ª–æ—ë–≤ ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**

```
–°—Ü–µ–Ω–∞—Ä–∏–π: –¢—ã –∏–∑–º–µ–Ω–∏–ª –æ–¥–Ω—É —Å—Ç—Ä–æ—á–∫—É –≤ app.py

–ë–µ–∑ —Å–ª–æ—ë–≤: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –í–°–Å –∑–∞–Ω–æ–≤–æ (5 –º–∏–Ω—É—Ç)

–°–æ —Å–ª–æ—è–º–∏:
- –°–ª–æ–π 1 (python:3.11) ‚Üí –í –∫—ç—à–µ ‚úì
- –°–ª–æ–π 2 (requirements.txt) ‚Üí –ù–µ –º–µ–Ω—è–ª—Å—è ‚Üí –í –∫—ç—à–µ ‚úì
- –°–ª–æ–π 3 (pip install) ‚Üí –ù–µ –º–µ–Ω—è–ª—Å—è ‚Üí –í –∫—ç—à–µ ‚úì
- –°–ª–æ–π 4 (—Ç–≤–æ–π –∫–æ–¥) ‚Üí –ò–∑–º–µ–Ω–∏–ª—Å—è ‚Üí –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ–º (5 —Å–µ–∫—É–Ω–¥)

–ò—Ç–æ–≥–æ: 5 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 5 –º–∏–Ω—É—Ç
```

**–ü—Ä–∞–≤–∏–ª–æ:** –°–Ω–∞—á–∞–ª–∞ —Ç–æ, —á—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è –†–ï–î–ö–û. –í –∫–æ–Ω—Ü–µ ‚Äî —Ç–æ, —á—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è –ß–ê–°–¢–û.

```dockerfile
# ‚ùå –ü–ª–æ—Ö–æ–π –ø–æ—Ä—è–¥–æ–∫: –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç pip install
FROM python:3.11
COPY . .                      # –ö–æ–¥ –º–µ–Ω—è–µ—Ç—Å—è ‚Üí –≤—Å—ë –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
RUN pip install -r requirements.txt  # 3 –º–∏–Ω—É—Ç—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑ üò≠

# ‚úÖ –•–æ—Ä–æ—à–∏–π –ø–æ—Ä—è–¥–æ–∫: pip install –∫—ç—à–∏—Ä—É–µ—Ç—Å—è
FROM python:3.11
COPY requirements.txt .       # –ú–µ–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ
RUN pip install -r requirements.txt  # –ö—ç—à–∏—Ä—É–µ—Ç—Å—è!
COPY . .                      # –ö–æ–¥ –º–µ–Ω—è–µ—Ç—Å—è, –Ω–æ pip —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
```

*–≠—Ç–æ –ø—Ä–æ—Å—Ç–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –Ω–æ –æ–Ω–∞ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç "–±–∏–ª–¥ 5 –º–∏–Ω—É—Ç" –≤ "–±–∏–ª–¥ 10 —Å–µ–∫—É–Ω–¥". –°–µ—Ä—å—ë–∑–Ω–æ.*

---

## –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ (—Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º–∏)

### –û—à–∏–±–∫–∞ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `latest`

```dockerfile
# ‚ùå –ü–ª–æ—Ö–æ
FROM python:latest
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: latest = 3.11
- –í—Ç–æ—Ä–Ω–∏–∫: Python –≤—ã–ø—É—Å–∫–∞–µ—Ç 3.12, latest –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- –°—Ä–µ–¥–∞: —Ç–≤–æ–π –±–∏–ª–¥ –ª–æ–º–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ

**–ò—Å—Ç–æ—Ä–∏—è –∏–∑ –∂–∏–∑–Ω–∏:** –ö–æ–º–∞–Ω–¥–∞ –Ω–µ –º–æ–≥–ª–∞ –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É CI –∫—Ä–∞—Å–Ω—ã–π. –ö–æ–¥ –Ω–µ –º–µ–Ω—è–ª—Å—è. –û–∫–∞–∑–∞–ª–æ—Å—å, –æ–±–Ω–æ–≤–∏–ª—Å—è –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ nginx:latest —Å breaking changes.

```dockerfile
# ‚úÖ –•–æ—Ä–æ—à–æ
FROM python:3.11.6-slim
```

### –û—à–∏–±–∫–∞ 2: –ó–∞–ø—É—Å–∫ –æ—Ç root

```dockerfile
# ‚ùå –¢–∞–∫ –¥–µ–ª–∞—é—Ç 80% –Ω–æ–≤–∏—á–∫–æ–≤
FROM node:18
COPY . /app
CMD ["node", "app.js"]
# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç root!
```

**–ü–æ—á–µ–º—É –ø–ª–æ—Ö–æ:**
- –ï—Å–ª–∏ –∞—Ç–∞–∫—É—é—â–∏–π –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É, –æ–Ω —Å—Ä–∞–∑—É root
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –º–æ–∂–µ—Ç –≤—ã–π—Ç–∏ –Ω–∞ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º—É
- –ù–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø least privilege

```dockerfile
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
FROM node:18
RUN useradd -r -u 1001 appuser
WORKDIR /app
COPY --chown=appuser:appuser . .
USER appuser
CMD ["node", "app.js"]
```

### –û—à–∏–±–∫–∞ 3: –°–µ–∫—Ä–µ—Ç—ã –≤ Dockerfile

```dockerfile
# ‚ùå –ù–ò–ö–û–ì–î–ê —Ç–∞–∫ –Ω–µ –¥–µ–ª–∞–π
ENV DATABASE_PASSWORD=super_secret_123
COPY .env /app/.env
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –°–µ–∫—Ä–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Å–ª–æ—è—Ö –æ–±—Ä–∞–∑–∞
- `docker history` –ø–æ–∫–∞–∂–µ—Ç –∏—Ö –ª—é–±–æ–º—É
- –û–±—Ä–∞–∑ –ø—É—à–∏—Ç—Å—è –≤ registry ‚Üí —Å–µ–∫—Ä–µ—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–º

```dockerfile
# ‚úÖ –°–µ–∫—Ä–µ—Ç—ã —á–µ—Ä–µ–∑ runtime
ENV DATABASE_PASSWORD=""
# –ü–µ—Ä–µ–¥–∞—ë–º –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:
# docker run -e DATABASE_PASSWORD=xxx my-app
```

### –û—à–∏–±–∫–∞ 4: –û–≥—Ä–æ–º–Ω—ã–µ –æ–±—Ä–∞–∑—ã

```dockerfile
# ‚ùå 1.2 GB –æ–±—Ä–∞–∑ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
FROM python:3.11
COPY . .
RUN pip install -r requirements.txt
RUN apt-get update && apt-get install -y gcc build-essential
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –î–æ–ª–≥–∏–π pull/push (1.2 GB –∫–∞—á–∞—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ)
- –ë–æ–ª—å—à–µ attack surface (–±–æ–ª—å—à–µ –∫–æ–¥–∞ = –±–æ–ª—å—à–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π)
- –î–æ—Ä–æ–∂–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ registry
- –ú–µ–¥–ª–µ–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

**Multi-stage builds ‚Äî —ç—Ç–æ –∫–∞–∫ —Å—ä—ë–º–∫–∏ —Ñ–∏–ª—å–º–∞**

–ü—Ä–µ–¥—Å—Ç–∞–≤—å: –¥–ª—è —Å—ä—ë–º–æ–∫ —Ñ–∏–ª—å–º–∞ –Ω—É–∂–Ω–∞ –æ–≥—Ä–æ–º–Ω–∞—è –ø–ª–æ—â–∞–¥–∫–∞, –¥–µ–∫–æ—Ä–∞—Ü–∏–∏, –≥—Ä–∏–º—ë—Ä–∫–∏, –∫–∞–º–µ—Ä—ã. –ù–æ –≤ –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä –ø–æ–ø–∞–¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤—ã–π —Ñ–∏–ª—å–º ‚Äî –±–µ–∑ –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ.

```dockerfile
# === STAGE 1: –°–¢–†–û–ô–ö–ê (builder) ===
# –ó–¥–µ—Å—å –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã, dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
FROM python:3.11 AS builder

WORKDIR /build
COPY requirements.txt .

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –í–°–ï –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –≤–∫–ª—é—á–∞—è —Ç–µ —á—Ç–æ –Ω—É–∂–Ω—ã –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
RUN pip install --user -r requirements.txt
# –¢—É—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å gcc, build-essential, –≤—Å—è–∫–∏–π –º—É—Å–æ—Ä
# –ù–æ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ ‚Äî –º—ã —ç—Ç–æ –≤—ã–∫–∏–Ω–µ–º

# === STAGE 2: –§–ò–ù–ê–õ–¨–ù–´–ô –û–ë–†–ê–ó (runtime) ===
# –¢–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞
FROM python:3.11-slim
# slim = –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ

WORKDIR /app

# –ö–æ–ø–∏—Ä—É–µ–º –¢–û–õ–¨–ö–û —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –∏–∑ builder
COPY --from=builder /root/.local /root/.local
# –ö–æ–ø–∏—Ä—É–µ–º –∫–æ–¥
COPY . .

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã –∏ build-–º—É—Å–æ—Ä –æ—Å—Ç–∞–ª–∏—Å—å –≤ builder
# –í —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ –ø–æ–ø–∞–ª–æ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ–µ

CMD ["python", "app.py"]
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:**

```
–ë–µ–∑ multi-stage:
python:3.11 base        ‚Üí 1.1 GB
+ —Ç–≤–æ–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏      ‚Üí 1.3 GB
+ build tools           ‚Üí 1.5 GB
= –§–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑: 1.5 GB

–° multi-stage:
python:3.11-slim base   ‚Üí 150 MB
+ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã  ‚Üí 100 MB
= –§–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑: 250 MB

–£–º–µ–Ω—å—à–µ–Ω–∏–µ: 83%
```

*Multi-stage ‚Äî —ç—Ç–æ –Ω–µ advanced —Ç–µ—Ö–Ω–∏–∫–∞. –≠—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–µ—Ñ–æ–ª—Ç–æ–º –¥–ª—è production.*

### –û—à–∏–±–∫–∞ 5: apt-get –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö RUN

```dockerfile
# ‚ùå –ö—ç—à apt-get –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –æ–±—Ä–∞–∑–µ
RUN apt-get update
RUN apt-get install -y curl
RUN apt-get install -y git
```

```dockerfile
# ‚úÖ –û–¥–∏–Ω —Å–ª–æ–π, —á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
RUN apt-get update && \
    apt-get install -y --no-install-recommends \
        curl \
        git && \
    rm -rf /var/lib/apt/lists/*
# -y = yes to all (–Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ)
# --no-install-recommends = —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã, –±–µ–∑ "—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã—Ö"
#                           (—ç–∫–æ–Ω–æ–º–∏—Ç ~50-200MB –Ω–∞ –æ–±—Ä–∞–∑–µ)
# rm -rf /var/lib/apt/lists/* = —É–¥–∞–ª–∏—Ç—å –∫—ç—à apt (–µ—â—ë ~30MB)
```

---

## Best Practices: —á–µ–∫–ª–∏—Å—Ç

### Dockerfile

```
‚òê –£–∫–∞–∑–∞–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ–≥ –æ–±—Ä–∞–∑–∞ (–Ω–µ latest)
‚òê –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è slim/alpine –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
‚òê Multi-stage build –¥–ª—è production
‚òê USER –Ω–µ root
‚òê HEALTHCHECK –æ–ø—Ä–µ–¥–µ–ª—ë–Ω
‚òê –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –≤ –æ–±—Ä–∞–∑–µ
‚òê .dockerignore –Ω–∞—Å—Ç—Ä–æ–µ–Ω
‚òê –°–ª–æ–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (—Ä–µ–¥–∫–æ –º–µ–Ω—è—é—â–µ–µ—Å—è ‚Äî —Å–≤–µ—Ä—Ö—É)
```

### .dockerignore

```dockerignore
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–∫–ª—é—á–∏—Ç—å:
.git
.env
*.log
node_modules
__pycache__
.pytest_cache
.coverage
*.pyc
.DS_Store
```

### –ü—Ä–∏–º–µ—Ä —Ö–æ—Ä–æ—à–µ–≥–æ Dockerfile

```dockerfile
# === BUILDER STAGE ===
FROM python:3.11-slim AS builder

WORKDIR /app

# –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç–¥–µ–ª—å–Ω–æ (–∫—ç—à–∏—Ä—É—é—Ç—Å—è)
COPY requirements.txt .
RUN pip install --user --no-cache-dir -r requirements.txt

# === PRODUCTION STAGE ===
FROM python:3.11-slim

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –Ω–µ root
RUN useradd -r -u 1001 appuser

WORKDIR /app

# –ö–æ–ø–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ–µ
COPY --from=builder /root/.local /home/appuser/.local
COPY --chown=appuser:appuser . .

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
ENV PATH=/home/appuser/.local/bin:$PATH
# PYTHONDONTWRITEBYTECODE=1 ‚Äî –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å .pyc —Ñ–∞–π–ª—ã (—ç–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞)
ENV PYTHONDONTWRITEBYTECODE=1
# PYTHONUNBUFFERED=1 ‚Äî –ª–æ–≥–∏ —Å—Ä–∞–∑—É –≤ stdout (–±–µ–∑ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏)
ENV PYTHONUNBUFFERED=1

USER appuser

# Health check ‚Äî Docker –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
# interval: –∫–∞–∂–¥—ã–µ 30—Å, timeout: –º–∞–∫—Å 3—Å –Ω–∞ –æ—Ç–≤–µ—Ç
# start-period: 5—Å –Ω–∞ —Å—Ç–∞—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
# CMD: –µ—Å–ª–∏ curl –≤–µ—Ä–Ω—ë—Ç –æ—à–∏–±–∫—É ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä unhealthy
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s \
    CMD curl -f http://localhost:8000/health || exit 1

# EXPOSE ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 8000
# –ù–ï –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç –Ω–∞—Ä—É–∂—É! –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–µ–Ω -p –ø—Ä–∏ docker run
EXPOSE 8000

# gunicorn ‚Äî production WSGI-—Å–µ—Ä–≤–µ—Ä –¥–ª—è Python
# app:app = –º–æ–¥—É–ª—å app.py, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è app (Flask/FastAPI instance)
CMD ["gunicorn", "--bind", "0.0.0.0:8000", "app:app"]
```

---

## Docker Compose: –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏:

```yaml
# docker-compose.yml
version: '3.8'

services:
  app:
    build: .               # –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ –∏–∑ Dockerfile –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
    ports:
      - "8000:8000"        # host_port:container_port
    environment:
      # db –∏ redis ‚Äî –∏–º–µ–Ω–∞ —Å–µ—Ä–≤–∏—Å–æ–≤, Docker Compose —Å–æ–∑–¥–∞—ë—Ç DNS
      - DATABASE_URL=postgres://user:pass@db:5432/mydb
      - REDIS_URL=redis://redis:6379
    depends_on:            # –ó–∞–ø—É—Å—Ç–∏—Ç—å db –∏ redis –î–û app
      - db                 # –í–ê–ñ–ù–û: –Ω–µ –∂–¥—ë—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞, —Ç–æ–ª—å–∫–æ –∑–∞–ø—É—Å–∫–∞!
      - redis
    volumes:
      - .:/app             # Bind mount: –ª–æ–∫–∞–ª—å–Ω–∞—è . ‚Üí /app –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
                           # –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Ö–æ—Å—Ç–µ –≤–∏–¥–Ω—ã –≤–Ω—É—Ç—Ä–∏ (hot reload)

  db:
    image: postgres:15     # –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ PostgreSQL
    environment:
      POSTGRES_USER: user
      POSTGRES_PASSWORD: pass
      POSTGRES_DB: mydb
    volumes:
      # Named volume ‚Äî –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
      - postgres_data:/var/lib/postgresql/data

  redis:
    image: redis:7-alpine  # alpine = –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ (~30MB)

volumes:
  postgres_data:           # –û–±—ä—è–≤–ª–µ–Ω–∏–µ named volume
```

**–ó–∞–ø—É—Å–∫:**
```bash
docker compose up -d      # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë
docker compose logs -f    # –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker compose down       # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker compose down -v    # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å + —É–¥–∞–ª–∏—Ç—å volumes
```

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ

```bash
# –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ –∏–∑ Dockerfile –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
# -t = tag (–∏–º—è:–≤–µ—Ä—Å–∏—è)
docker build -t my-app:1.0 .

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
# -d = detached (–≤ —Ñ–æ–Ω–µ, –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞)
# -p = port mapping (host:container)
# --name = –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤–º–µ—Å—Ç–æ ID)
docker run -d -p 8000:8000 --name app my-app:1.0

# –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –≤ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
# -it = interactive + tty (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª)
docker exec -it app /bin/sh

# –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
# -f = follow (–∫–∞–∫ tail -f, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –ª–æ–≥–∏)
docker logs -f app

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (SIGTERM, –∂–¥—ë—Ç 10—Å) –∏ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker stop app && docker rm app
```

### –û—á–∏—Å—Ç–∫–∞ (–≤–∞–∂–Ω–æ!)

```bash
# –£–¥–∞–ª–∏—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker container prune

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã
docker image prune

# –Ø–¥–µ—Ä–Ω–∞—è –æ–ø—Ü–∏—è: —É–¥–∞–ª–∏—Ç—å –í–°–Å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ
docker system prune -a --volumes
```

*–ë–µ–∑ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ Docker —Å—ä–µ—Å—Ç –≤–µ—Å—å –¥–∏—Å–∫. –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ –ª–∏—á–Ω–æ–º –æ–ø—ã—Ç–µ.*

### –î–µ–±–∞–≥

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ª–æ–∏ –æ–±—Ä–∞–∑–∞
docker history my-app:1.0

# –†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–æ–≤
docker images --format "table {{.Repository}}\t{{.Tag}}\t{{.Size}}"

# –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker stats
docker top <container>
```

---

## Production checklist

–ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –≤ –ø—Ä–æ–¥:

```
‚òê –û–±—Ä–∞–∑ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –≤–µ—Ä—Å–∏–π (–Ω–µ latest)
‚òê Multi-stage build –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
‚òê –†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π (<500MB –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)
‚òê –ù–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Ç root
‚òê –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –≤ –æ–±—Ä–∞–∑–µ
‚òê HEALTHCHECK –Ω–∞—Å—Ç—Ä–æ–µ–Ω
‚òê Resource limits –∑–∞–¥–∞–Ω—ã (--memory, --cpus)
‚òê –õ–æ–≥–∏ –∏–¥—É—Ç –≤ stdout/stderr
‚òê –û–±—Ä–∞–∑ –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ (Trivy, Snyk)
```

---

## –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### "Docker –Ω–∞ M1/M2 Mac —Ç–æ—Ä–º–æ–∑–∏—Ç"

–î–∞, —ç–º—É–ª—è—Ü–∏—è amd64 –Ω–∞ ARM –º–µ–¥–ª–µ–Ω–Ω–∞—è. –†–µ—à–µ–Ω–∏—è:
- –ò—Å–ø–æ–ª—å–∑—É–π arm64 –æ–±—Ä–∞–∑—ã –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- `--platform linux/arm64` –≤ docker build
- –î–ª—è —Ç—è–∂—ë–ª—ã—Ö –∑–∞–¥–∞—á ‚Äî remote Docker host

### "–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–¥–∞–µ—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞"

```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏
docker logs <container>

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ
docker run -it my-app /bin/sh
```

–û–±—ã—á–Ω–æ –ø—Ä–∏—á–∏–Ω–∞: –∫–æ–º–∞–Ω–¥–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –∏–ª–∏ –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π.

### "–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ –Ω–µ –≤–∏–¥–Ω—ã"

- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ volume —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- –ü—Ä–æ–≤–µ—Ä—å .dockerignore ‚Äî –º–æ–∂–µ—Ç, —Ñ–∞–π–ª—ã –∏—Å–∫–ª—é—á–µ–Ω—ã
- –î–ª—è production: –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏ –æ–±—Ä–∞–∑

---

## –°–≤—è–∑–∏

- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π: [[microservices-vs-monolith]]
- –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞: [[technical-debt]]
- –î–µ–ø–ª–æ–π AI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π: [[ai-engineer-tech-stack]]
- –°–∏—Å—Ç–µ–º–Ω—ã–π –ø–æ–¥—Ö–æ–¥: [[systems-thinking]]

---

## Container Runtimes: Docker vs Podman vs containerd (2025)

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Docker | Podman | containerd |
|----------|--------|--------|------------|
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** | Daemon (dockerd) | Daemonless | Low-level runtime |
| **Rootless** | –î–∞ (—Å 2020, –∑—Ä–µ–ª—ã–π) | –î–∞ (–Ω–∞—Ç–∏–≤–Ω–æ) | –î–∞ |
| **Kubernetes** | Deprecated —Å 1.24 | CRI —á–µ—Ä–µ–∑ Podman | –°—Ç–∞–Ω–¥–∞—Ä—Ç (52-70%) |
| **Startup time** | 151ms | ~150ms | 87ms |
| **–õ—É—á—à–µ –¥–ª—è** | Development | Secure environments | Production K8s |
| **–î–æ–ª—è —Ä—ã–Ω–∫–∞** | 68% dev | –†–∞—Å—Ç—ë—Ç | 52-70% prod |

> **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è 2025**: Docker –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, containerd –¥–ª—è production Kubernetes. Podman ‚Äî –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (rootless –∏–∑ –∫–æ—Ä–æ–±–∫–∏) –∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Red Hat.
>
> **–ò—Å—Ç–æ—á–Ω–∏–∫–∏**: [Container Runtime Comparison](https://sanj.dev/post/docker-vs-podman-comparison), [Spacelift: containerd vs Docker](https://spacelift.io/blog/containerd-vs-docker)

---

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [Docker Docs: Best Practices](https://docs.docker.com/build/building/best-practices/) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 2025-01-03
- [Docker Multi-stage Builds](https://docs.docker.com/build/building/multi-stage/) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 2025-01-03
- [Docker BuildKit](https://docs.docker.com/build/buildkit/) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 2025-01-03

### –ö–µ–π—Å—ã –∫–æ–º–ø–∞–Ω–∏–π
- [Kubernetes Case Study: Spotify](https://kubernetes.io/case-studies/spotify/) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 2025-01-03
- [Netflix Titus Container Platform](https://netflix.github.io/titus/) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 2025-01-03
- [Medium: How Netflix Uses Docker](https://medium.com/@priyamsanodiya340/how-netflix-uses-docker-to-run-millions-of-containers-every-week-08b0f2bea2a9) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 2025-01-03

### Best Practices 2024-2025
- [Docker Blog: 8 Top Tips for 2024](https://www.docker.com/blog/8-top-docker-tips-tricks-for-2024/) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 2025-01-03
- [Better Stack: Docker Build Best Practices](https://betterstack.com/community/guides/scaling-docker/docker-build-best-practices/) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 2025-01-03
- [Northflank: Docker Build Optimization](https://northflank.com/blog/docker-build-and-buildx-best-practices-for-optimized-builds) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 2025-01-03
- [Thinksys: Docker Best Practices 2025](https://thinksys.com/devops/docker-best-practices/) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 2025-01-03

### Container Runtimes
- [Container Runtime Comparison: Docker vs Podman vs containerd](https://sanj.dev/post/docker-vs-podman-comparison) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 2025-01-03
- [Spacelift: containerd vs Docker](https://spacelift.io/blog/containerd-vs-docker) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 2025-01-03
- [Spacelift: Podman vs Docker](https://spacelift.io/blog/podman-vs-docker) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 2025-01-03

---

**–ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è**: 2025-01-03
**–£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏**: high

---

---

## –ü—Ä–æ–≤–µ—Ä—å —Å–µ–±—è

> [!question]- –ü–æ—á–µ–º—É –ø–æ—Ä—è–¥–æ–∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –≤ Dockerfile –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å–±–æ—Ä–∫–∏?
> Docker –∫—ç—à–∏—Ä—É–µ—Ç —Å–ª–æ–∏. –ï—Å–ª–∏ —Å–ª–æ–π –∏–∑–º–µ–Ω–∏–ª—Å—è -- –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Å–ª–æ–∏ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—é—Ç—Å—è. –ü–æ—ç—Ç–æ–º—É —Ä–µ–¥–∫–æ –º–µ–Ω—è—é—â–∏–µ—Å—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (COPY requirements.txt, RUN pip install) —Å—Ç–∞–≤—è—Ç –≤ –Ω–∞—á–∞–ª–æ, –∞ —á–∞—Å—Ç–æ –º–µ–Ω—è—é—â–∏–π—Å—è –∫–æ–¥ (COPY . .) -- –≤ –∫–æ–Ω–µ—Ü. –ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ—á–∫–∏ –∫–æ–¥–∞ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–ª–æ–π (5 —Å–µ–∫—É–Ω–¥), –∞ –Ω–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (5 –º–∏–Ω—É—Ç).

> [!question]- –í —á—ë–º –æ—Ç–ª–∏—á–∏–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –æ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∏–∑–æ–ª—è—Ü–∏–∏?
> –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —è–¥—Ä–æ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º—ã –∏ –∏–∑–æ–ª–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ namespaces (PID, NET, MNT) –∏ cgroups. VM –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ —è–¥—Ä–æ –∏ –ø–æ–ª–Ω—É—é –∏–∑–æ–ª—è—Ü–∏—é —á–µ—Ä–µ–∑ –≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ª–µ–≥—á–µ (M–ë vs –ì–ë), –±—ã—Å—Ç—Ä–µ–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è (–º—Å vs –º–∏–Ω), –Ω–æ –∏–∑–æ–ª—è—Ü–∏—è —Å–ª–∞–±–µ–µ -- —É—è–∑–≤–∏–º–æ—Å—Ç—å –≤ —è–¥—Ä–µ —Ö–æ—Å—Ç–∞ –º–æ–∂–µ—Ç –∑–∞—Ç—Ä–æ–Ω—É—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –ü–æ—ç—Ç–æ–º—É –≤–∞–∂–Ω–æ –Ω–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ—Ç root –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å seccomp/AppArmor.

> [!question]- –°—Ü–µ–Ω–∞—Ä–∏–π: –æ–±—Ä–∞–∑ –≤–∞—à–µ–≥–æ Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–µ—Å–∏—Ç 1.5 –ì–ë. –ö–∞–∫–∏–µ —à–∞–≥–∏ —É–º–µ–Ω—å—à–∞—Ç –µ–≥–æ —Ä–∞–∑–º–µ—Ä?
> 1) Multi-stage build: builder stage —Å gcc –∏ dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏, production stage –Ω–∞ python:slim —Ç–æ–ª—å–∫–æ —Å runtime. 2) –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ slim –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ (150 –ú–ë vs 1 –ì–ë). 3) –û–±—ä–µ–¥–∏–Ω–∏—Ç—å RUN-–∫–æ–º–∞–Ω–¥—ã –¥–ª—è apt-get –∏ —É–¥–∞–ª—è—Ç—å –∫—ç—à (rm -rf /var/lib/apt/lists/*). 4) –î–æ–±–∞–≤–∏—Ç—å .dockerignore –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è .git, node_modules, __pycache__. –†–µ–∑—É–ª—å—Ç–∞—Ç: 250 –ú–ë –≤–º–µ—Å—Ç–æ 1.5 –ì–ë (—É–º–µ–Ω—å—à–µ–Ω–∏–µ 83%).

> [!question]- –ü–æ—á–µ–º—É depends_on –≤ docker-compose –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞?
> depends_on –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –Ω–æ –Ω–µ –∂–¥—ë—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. PostgreSQL –º–æ–∂–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞ —Å–µ–∫—É–Ω–¥—É, –Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –∑–∞–π–º—ë—Ç –µ—â—ë 10 —Å–µ–∫—É–Ω–¥. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∏—Ç "connection refused". –†–µ—à–µ–Ω–∏–µ: healthcheck –≤ compose + condition: service_healthy, –∏–ª–∏ retry-–ª–æ–≥–∏–∫–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

---

## –ö–ª—é—á–µ–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏

–ß–µ–º Image –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç Container?
?
Image (–æ–±—Ä–∞–∑) -- read-only —à–∞–±–ª–æ–Ω —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏. Container -- –∑–∞–ø—É—â–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—Ä–∞–∑–∞ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º writable layer. –ò–∑ –æ–¥–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

–ß—Ç–æ —Ç–∞–∫–æ–µ Namespace –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Docker?
?
–ú–µ—Ö–∞–Ω–∏–∑–º Linux –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤. PID namespace -- —Å–≤–æ–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã, NET -- —Å–≤–æ—è —Å–µ—Ç—å, MNT -- —Å–≤–æ—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞, USER -- —Å–≤–æ–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä "–≤–∏–¥–∏—Ç" —Ç–æ–ª—å–∫–æ —Å–≤–æ—ë –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

–ß—Ç–æ —Ç–∞–∫–æ–µ Multi-stage build?
?
–°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞–ø–æ–≤: builder stage —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã –∏ dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∞ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π stage -- —Ç–æ–ª—å–∫–æ runtime –∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –£–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞ –Ω–∞ 60-80%.

–ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–≥ latest –≤ production?
?
latest —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é –æ–±—Ä–∞–∑–∞, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç. –ë–∏–ª–¥ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ. –ù—É–∂–Ω–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é (python:3.11.6-slim).

–ß—Ç–æ —Ç–∞–∫–æ–µ Copy-on-Write (CoW) –≤ OverlayFS?
?
–í—Å–µ —Å–ª–æ–∏ –æ–±—Ä–∞–∑–∞ read-only. –ö–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–∑–º–µ–Ω—è–µ—Ç —Ñ–∞–π–ª, –æ–Ω –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –∏–∑ read-only —Å–ª–æ—è –≤ writable layer –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –û—Ä–∏–≥–∏–Ω–∞–ª –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç 100 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º –∏–∑ –æ–¥–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞ –∑–∞–Ω–∏–º–∞—Ç—å 1 –∫–æ–ø–∏—é –Ω–∞ –¥–∏—Å–∫–µ.

–ß—Ç–æ —Ç–∞–∫–æ–µ cgroups –∏ –∑–∞—á–µ–º –æ–Ω–∏ –Ω—É–∂–Ω—ã?
?
Control Groups -- –º–µ—Ö–∞–Ω–∏–∑–º Linux –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (CPU, –ø–∞–º—è—Ç—å, I/O). –ë–µ–∑ cgroups –æ–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ—Ç —Å—ä–µ—Å—Ç—å –≤—Å—é –ø–∞–º—è—Ç—å —Ö–æ—Å—Ç–∞. –° cgroups OOM killer —É–±—å—ë—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∞ –Ω–µ —Ö–æ—Å—Ç.

–ü–æ—á–µ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç root?
?
–ï—Å–ª–∏ –∞—Ç–∞–∫—É—é—â–∏–π –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É, –æ–Ω —Å—Ä–∞–∑—É root –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –º–æ–∂–µ—Ç –≤—ã–π—Ç–∏ –Ω–∞ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º—É. –†–µ—à–µ–Ω–∏–µ: USER appuser –≤ Dockerfile. –ü—Ä–∏–Ω—Ü–∏–ø least privilege.

–í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É slim –∏ alpine –æ–±—Ä–∞–∑–∞–º–∏?
?
slim -- –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Debian (~150 –ú–ë), —Å–æ–≤–º–µ—Å—Ç–∏–º —Å–æ –≤—Å–µ–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏. alpine -- –µ—â—ë –º–µ–Ω—å—à–µ (~50 –ú–ë), –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç musl –≤–º–µ—Å—Ç–æ glibc, —á—Ç–æ –º–æ–∂–µ—Ç –ª–æ–º–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–∞–∫–µ—Ç—ã (numpy, pandas). slim -- –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞.

---

## –ö—É–¥–∞ –¥–∞–ª—å—à–µ

| –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ | –ö—É–¥–∞ | –ó–∞—á–µ–º |
|-------------|------|-------|
| –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ | [[kubernetes-basics]] | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, self-healing, rolling updates |
| –£–≥–ª—É–±–∏—Ç—å—Å—è | [[ci-cd-pipelines]] | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ pipeline: Docker build/push –∫–∞–∫ —á–∞—Å—Ç—å CI/CD |
| –°–º–µ–∂–Ω–∞—è —Ç–µ–º–∞ | [[os-processes-threads]] | –ü—Ä–æ—Ü–µ—Å—Å—ã –∏ namespaces -- —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç Docker |
| –û–±–∑–æ—Ä | [[devops-overview]] | –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–∞—Ä—Ç–µ —Ä–∞–∑–¥–µ–ª–∞ DevOps |

*–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: 2026-01-09*
