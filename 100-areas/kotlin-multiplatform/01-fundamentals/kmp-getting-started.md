---
title: "KMP Getting Started: ะะตัะฒัะน ะฟัะพะตะบั ะทะฐ 30 ะผะธะฝัั"
created: 2026-01-03
modified: 2026-01-05
tags:
  - topic/jvm
  - topic/kmp
  - getting-started
  - setup
  - beginner
  - type/concept
  - level/beginner
related:
  - "[[kmp-project-structure]]"
  - "[[kmp-expect-actual]]"
  - "[[kotlin-overview]]"
cs-foundations:
  - "[[compilation-pipeline]]"
  - "[[build-systems-theory]]"
  - "[[dependency-resolution]]"
status: published
---

# KMP Getting Started: ะพั ะฝัะปั ะดะพ ัะฐะฑะพัะฐััะตะณะพ ะฟัะพะตะบัะฐ

> **TL;DR:** ะะปั ััะฐััะฐ KMP ะฝัะถะฝั: IntelliJ IDEA 2025.2.2+ ะธะปะธ Android Studio Otter 2025.2.1+ ั KMP ะฟะปะฐะณะธะฝะพะผ. ะกะพะทะดะฐัั ะฟัะพะตะบั ัะตัะตะท [KMP Wizard](https://kmp.jetbrains.com) ะธะปะธ IDE wizard. ะะปั iOS ะฝัะถะตะฝ Mac + Xcode (ะทะฐะฟัััะธัั ัะพัั ะฑั ัะฐะท). Preflight checks ะฒ IDE ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะพะฒะตััั ะพะบััะถะตะฝะธะต. ะะตัะฒัะน ะฟัะพะตะบั โ shared data layer, ะฝะต UI. Android-ัะฐะทัะฐะฑะพััะธะบะธ ะฐะดะฐะฟัะธัััััั ะทะฐ 1-2 ะฝะตะดะตะปะธ.

---

## Prerequisites

| ะขะตะผะฐ | ะะฐัะตะผ ะฝัะถะฝะพ | ะะดะต ะธะทััะธัั |
|------|-------------|-------------|
| **Kotlin basics** | KMP = Kotlin; ะฝัะถะฝะพ ะทะฝะฐัั ัะทัะบ ะฝะฐ ะฑะฐะทะพะฒะพะผ ััะพะฒะฝะต | [[kotlin-overview]] |
| **Gradle basics** | KMP ะฟัะพะตะบัั ะบะพะฝัะธะณััะธัััััั ัะตัะตะท Gradle | Gradle docs |
| **Android ะธะปะธ iOS ะพะฟัั** | ะะพะฝะธะผะฐะฝะธะต ัะพัั ะฑั ะพะดะฝะพะน ัะตะปะตะฒะพะน ะฟะปะฐััะพัะผั | Android/iOS docs |
| **Compilation pipeline** | ะะพะฝััั ะบะฐะบ Kotlin ะบะพะผะฟะธะปะธััะตััั ะฒ ัะฐะทะฝัะต ะฟะปะฐััะพัะผั | [[compilation-pipeline]] |
| **Build systems** | ะะฐะบ Gradle ัะฟัะฐะฒะปัะตั ะทะฐะฒะธัะธะผะพัััะผะธ ะธ ะทะฐะดะฐัะฐะผะธ | [[build-systems-theory]] |

### ะะปั ะบะพะณะพ ััะพั ะผะฐัะตัะธะฐะป

| ะฃัะพะฒะตะฝั | ะงัะพ ะฟะพะปััะธัะต |
|---------|--------------|
| **ะะพะปะฝัะน ะฝะพะฒะธัะพะบ** | ะะฐะฑะพัะฐััะธะน KMP ะฟัะพะตะบั ะทะฐ 30 ะผะธะฝัั ั ะฟะพะฝะธะผะฐะฝะธะตะผ ะบะฐะถะดะพะณะพ ัะฐะณะฐ |
| **Android-ัะฐะทัะฐะฑะพััะธะบ** | ะัััััะน ััะฐัั + ะฟะพะฝะธะผะฐะฝะธะต iOS-ัะฟะตัะธัะธะบะธ |
| **iOS-ัะฐะทัะฐะฑะพััะธะบ** | ะะพะฝะธะผะฐะฝะธะต ะบะฐะบ ะธะฝัะตะณัะธัะพะฒะฐัั Kotlin ะฒ Swift-ะฟัะพะตะบั |

---

## ะขะตัะผะธะฝะพะปะพะณะธั ะดะปั ะฝะพะฒะธัะบะพะฒ

| ะขะตัะผะธะฝ | ะงัะพ ััะพ | ะะฝะฐะปะพะณะธั ะธะท ะถะธะทะฝะธ |
|--------|----------|---------------------|
| **KMP Wizard** | ะะตะฑ-ะธะฝััััะผะตะฝั JetBrains ะดะปั ะณะตะฝะตัะฐัะธะธ KMP ะฟัะพะตะบัะฐ | **ะะพะฝััััะบัะพั IKEA** โ ะฒัะฑะธัะฐะตัั ััะพ ะฝัะถะฝะพ, ะฟะพะปััะฐะตัั ะณะพัะพะฒัะน ะฝะฐะฑะพั |
| **Preflight Checks** | ะะฒัะพะฟัะพะฒะตัะบะฐ ะพะบััะถะตะฝะธั ะฒ IDE (Java, SDK, Xcode) | **ะขะตัะพัะผะพัั** ะฟะตัะตะด ะฟะพะตะทะดะบะพะน โ ะฒัั ะปะธ ัะฐะฑะพัะฐะตั |
| **Target** | ะฆะตะปะตะฒะฐั ะฟะปะฐััะพัะผะฐ (Android, iOS, Desktop, Web) | **ะัะฝะบั ะฝะฐะทะฝะฐัะตะฝะธั** โ ะบัะดะฐ ะตะดะตะผ |
| **Source Set** | ะะฐะฟะบะฐ ั ะบะพะดะพะผ ะดะปั ะบะพะฝะบัะตัะฝะพะน ะฟะปะฐััะพัะผั | **ะงะตะผะพะดะฐะฝ** ะดะปั ะบะพะฝะบัะตัะฝะพะน ัััะฐะฝั |
| **commonMain** | ะะพะด, ัะฐะฑะพัะฐััะธะน ะฝะฐ ะฒัะตั ะฟะปะฐััะพัะผะฐั | **ะฃะฝะธะฒะตััะฐะปัะฝัะน ะฐะดะฐะฟัะตั** โ ะฟะพะดัะพะดะธั ะฒะตะทะดะต |
| **shared module** | Gradle-ะผะพะดัะปั ั ะพะฑัะธะผ ะบะพะดะพะผ | **ะะฑัะธะน ัะบะปะฐะด** โ ะฑะตััั ะฒัะต ะฟะปะฐััะพัะผั |
| **K2 mode** | ะะพะฒัะน ะบะพะผะฟะธะปััะพั Kotlin 2.0 (ะฑััััะตะต) | **ะขััะฑะพ-ัะตะถะธะผ** โ ะบะพะผะฟะธะปะธััะตั ะฒ 2x ะฑััััะตะต |
| **Direct Integration** | ะะพะดะบะปััะตะฝะธะต iOS framework ะฝะฐะฟััะผัั | **ะััะผะพะน ัะตะนั** โ ะฑะตะท ะฟะตัะตัะฐะดะพะบ |
| **CocoaPods** | ะะตะฝะตะดะถะตั ะทะฐะฒะธัะธะผะพััะตะน ะดะปั iOS | **ะะพััะปะพัะฝะฐั ัะปัะถะฑะฐ** ะดะปั iOS-ะฑะธะฑะปะธะพัะตะบ |
| **Framework** | ะกะบะพะผะฟะธะปะธัะพะฒะฐะฝะฝัะน Kotlin ะบะพะด ะดะปั iOS | **ะะพะปััะฐะฑัะธะบะฐั** โ ะณะพัะพะฒัะน ะผะพะดัะปั ะดะปั iOS-ะบะพะผะฐะฝะดั |

---

## ะะพัะตะผั ะฝะฐัััะพะนะบะฐ KMP ััะตะฑัะตั ะฟะพะฝะธะผะฐะฝะธั compilation pipeline

### ะงัะพ ะฟัะพะธััะพะดะธั ะฟัะธ ัะพะทะดะฐะฝะธะธ ะฟัะพะตะบัะฐ

ะะพะณะดะฐ ะฒั ัะพะทะดะฐััะต KMP ะฟัะพะตะบั, Gradle ะฝะฐัััะฐะธะฒะฐะตั **ััะธ ัะฐะทะฝัั ะบะพะผะฟะธะปััะธะพะฝะฝัั pipeline**:

```
                    build.gradle.kts
                          โ
       โโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโ
       โ                  โ                  โ
       โผ                  โผ                  โผ
    Kotlin/JVM       Kotlin/Native       Kotlin/JS
       โ                  โ                  โ
    [kotlinc-jvm]     [kotlinc-native]   [kotlinc-js]
       โ                  โ                  โ
       โผ                  โผ                  โผ
   JVM Bytecode       LLVM IR          JavaScript
       โ                  โ                  โ
       โผ                  โผ                  โผ
     Android            iOS              Browser
```

**ะะฐะถะดัะน target ััะตะฑัะตั ัะฒะพะน toolchain:**

| Target | ะะพะผะฟะธะปััะพั | Toolchain | ะะตะทัะปััะฐั |
|--------|-----------|-----------|-----------|
| Android | Kotlin/JVM | Android SDK, ANDROID_HOME | .aar / .apk |
| iOS | Kotlin/Native | Xcode, Command Line Tools | .framework |
| Desktop | Kotlin/JVM | JDK | .jar / installer |
| Web | Kotlin/JS/WASM | Node.js (optional) | .js / .wasm |

### ะะพัะตะผั ะฝัะถะตะฝ Xcode ะดะปั iOS

Kotlin/Native **ะธัะฟะพะปัะทัะตั LLVM** โ ัะพั ะถะต backend, ััะพ ะธ Swift/Clang. ะะพ LLVM toolchain ะดะปั Apple ะฟะปะฐััะพัะผ **ะฒัััะพะตะฝ ะฒ Xcode**:

```
Kotlin/Native Compiler
        โ
        โผ
     LLVM IR
        โ
        โผ
   Xcode LLVM โ [ะะพั ะฟะพัะตะผั Xcode ะพะฑัะทะฐัะตะปะตะฝ]
        โ
        โผ
  iOS Framework
```

**ะะตะท Xcode** ะฝะตั LLVM ะดะปั Apple โ ะฝะตั iOS ัะฑะพัะบะธ.

### ะะพัะตะผั ะฝะฐัััะพะนะบะฐ ANDROID_HOME ะบัะธัะธัะฝะฐ

Gradle plugin ะดะปั Android (`com.android.application`) **ะธัะตั Android SDK ะฟะพ ANDROID_HOME**:

```kotlin
// ะะฝัััะธ Android Gradle Plugin
val sdkPath = System.getenv("ANDROID_HOME")
    ?: System.getenv("ANDROID_SDK_ROOT")
    ?: throw GradleException("SDK location not found")
```

**ะะตะท ANDROID_HOME:**
- AGP ะฝะต ะฝะฐะนะดัั SDK
- ะะต ัะพะฑะตััััั androidMain source set
- ะะฐะถะต commonMain ะฝะต ัะบะพะผะฟะธะปะธััะตััั (ะฝัะถะฝั ะฒัะต targets)

### ะะพัะตะผั ะฟะตัะฒัะน ะทะฐะฟััะบ iOS ะดะพะปะณะธะน

ะัะธ **ะฟะตัะฒะพะผ ะทะฐะฟััะบะต** Kotlin/Native:
1. ะกะบะฐัะธะฒะฐะตั platform-specific libraries
2. ะะพะผะฟะธะปะธััะตั Kotlin stdlib ะฒ native code
3. ะััะธััะตั ัะตะทัะปััะฐั ะฒ `~/.konan/`

```bash
# ะัั Kotlin/Native (~2-3 GB)
~/.konan/
โโโ cache/              # ะกะบะพะผะฟะธะปะธัะพะฒะฐะฝะฝัะต klibs
โโโ dependencies/       # LLVM, platform libs
โโโ kotlin-native-prebuilt-*/  # ะะพะผะฟะธะปััะพั
```

**ะะพัะปะตะดัััะธะต ัะฑะพัะบะธ** ะธัะฟะพะปัะทััั ะบัั โ ะทะฝะฐัะธัะตะปัะฝะพ ะฑััััะตะต.

> **CS-ััะฝะดะฐะผะตะฝั:** ะะตัะฐะปะธ ะฒ [[compilation-pipeline]] (compiler phases) ะธ [[build-systems-theory]] (dependency graph, task caching).

---

## ะจะฐะณ 0: ะัะพะฒะตัะบะฐ ััะตะฑะพะฒะฐะฝะธะน

### ะะธะฝะธะผะฐะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                 ะกะะกะขะะะะซะ ะขะะะะะะะะะฏ                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                             โ
โ  IDE (ะฒัะฑัะฐัั ะพะดะฝั):                                        โ
โ  โโโ IntelliJ IDEA 2025.2.2+                               โ
โ  โโโ Android Studio Otter 2025.2.1+                        โ
โ                                                             โ
โ  Kotlin: 2.1.20+ (ัะตะบััะฐั ััะฐะฑะธะปัะฝะฐั)                      โ
โ                                                             โ
โ  Java/JDK: JetBrains Runtime (JBR) ัะตะบะพะผะตะฝะดัะตััั           โ
โ                                                             โ
โ  ะะปั Android-ัะฐัะณะตัะฐ:                                       โ
โ  โโโ Android SDK + ANDROID_HOME env variable               โ
โ                                                             โ
โ  ะะปั iOS-ัะฐัะณะตัะฐ (ะขะะะฌะะ macOS):                           โ
โ  โโโ macOS                                                  โ
โ  โโโ Xcode (ะฟะพัะปะตะดะฝัั ะฒะตััะธั)                              โ
โ  โโโ Xcode ะดะพะปะถะตะฝ ะฑััั ะทะฐะฟััะตะฝ ัะพัั ะฑั 1 ัะฐะท!              โ
โ                                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Environment Variables

**macOS/Linux** โ ะดะพะฑะฐะฒะธัั ะฒ `~/.zprofile` ะธะปะธ `~/.bashrc`:

```bash
# Java
export JAVA_HOME=$(/usr/libexec/java_home)
export PATH=$JAVA_HOME/bin:$PATH

# Android SDK
export ANDROID_HOME=~/Library/Android/sdk
export PATH=$ANDROID_HOME/tools:$ANDROID_HOME/tools/bin:$ANDROID_HOME/platform-tools:$PATH
```

**Windows (PowerShell)**:

```powershell
[Environment]::SetEnvironmentVariable('JAVA_HOME', 'C:\Program Files\Java\jdk-17', 'Machine')
[Environment]::SetEnvironmentVariable('ANDROID_HOME', 'C:\Users\<user>\AppData\Local\Android\Sdk', 'Machine')
```

---

## ะจะฐะณ 1: ะฃััะฐะฝะพะฒะบะฐ IDE ะธ ะฟะปะฐะณะธะฝะฐ

### ะะฐัะธะฐะฝั A: IntelliJ IDEA

1. ะกะบะฐัะฐัั [IntelliJ IDEA](https://www.jetbrains.com/idea/) (Community ะธะปะธ Ultimate)
2. ะฃััะฐะฝะพะฒะธัั [Kotlin Multiplatform IDE plugin](https://plugins.jetbrains.com/plugin/14936-kotlin-multiplatform)
3. ะะบะปััะธัั K2 mode: **Settings โ Languages & Frameworks โ Kotlin โ Enable K2 mode**

### ะะฐัะธะฐะฝั B: Android Studio

1. ะกะบะฐัะฐัั [Android Studio](https://developer.android.com/studio) (Otter 2025.2.1+)
2. KMP ะฟะปะฐะณะธะฝ ัะถะต bundled, ะฝะพ ะฟัะพะฒะตัะธัั: **Settings โ Plugins โ Installed โ Kotlin Multiplatform**
3. ะะบะปััะธัั K2 mode ะฐะฝะฐะปะพะณะธัะฝะพ

### ะัะพะฒะตัะบะฐ ัััะฐะฝะพะฒะบะธ (Preflight Checks)

ะะพัะปะต ัััะฐะฝะพะฒะบะธ ะฟะปะฐะณะธะฝะฐ ะฟะพัะฒะธััั ะธะฝััััะผะตะฝั **Preflight Checks**:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              PROJECT ENVIRONMENT PREFLIGHT CHECKS            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                             โ
โ  โ Operating System: macOS 14.0                           โ
โ  โ Java: JetBrains Runtime 17.0.9                         โ
โ  โ Android SDK: API 34                                     โ
โ  โ Xcode: 15.4                                             โ
โ  โ Gradle: 8.5                                             โ
โ                                                             โ
โ  All checks passed! Ready to create KMP project.           โ
โ                                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะฐะบ ะพัะบัััั:** Shift+Shift โ ะฟะพะธัะบ "preflight" ะธะปะธ ะธะบะพะฝะบะฐ ัะฐะผะพะปััะฐ ะฒ sidebar.

---

## ะจะฐะณ 2: ะกะพะทะดะฐะฝะธะต ะฟัะพะตะบัะฐ

### ะกะฟะพัะพะฑ 1: KMP Wizard (ะะตะบะพะผะตะฝะดัะตััั ะดะปั ะฝะพะฒะธัะบะพะฒ)

1. ะัะบัััั [kmp.jetbrains.com](https://kmp.jetbrains.com)
2. ะัะฑัะฐัั ัะฐัะณะตัั:
   - โ Android
   - โ iOS (ะตัะปะธ ะตััั Mac)
   - โฌ Desktop (ะพะฟัะธะพะฝะฐะปัะฝะพ)
   - โฌ Web (ะพะฟัะธะพะฝะฐะปัะฝะพ)
3. ะัะฑัะฐัั UI-ะฟะพะดัะพะด:
   - **"Do not share UI"** โ ะฝะฐัะธะฒะฝัะน UI (Compose + SwiftUI) โ ัะตะบะพะผะตะฝะดัะตััั ะดะปั ะฝะฐัะฐะปะฐ
   - **"Share UI"** โ Compose Multiplatform ะฒะตะทะดะต
4. ะกะบะฐัะฐัั ะธ ัะฐัะฟะฐะบะพะฒะฐัั ะฟัะพะตะบั
5. ะัะบัััั ะฒ IDE

**ะะพัะตะผั Wizard ะปัััะต ะดะปั ะฝะฐัะฐะปะฐ:**
- ะะทะฑะตะณะฐะตั "Gradle pain" โ ะบะพะฝัะธะณััะฐัะธั ัะถะต ะณะพัะพะฒะฐ
- ะัะพะฒะตัะตะฝะฝัะน ัะฐะฑะปะพะฝ ะพั JetBrains
- ะะธะฝะธะผัะผ boilerplate

### ะกะฟะพัะพะฑ 2: IDE Wizard

1. **File โ New โ Project**
2. ะัะฑัะฐัั **Kotlin Multiplatform** ะฒ ะปะตะฒะพะน ะฟะฐะฝะตะปะธ
3. ะะฐัััะพะธัั:
   - Project name
   - Location
   - JDK: ะฒัะฑัะฐัั **JetBrains Runtime (JBR)**
4. ะัะฑัะฐัั ัะฐัะณะตัั (Android, iOS, Desktop, Web)
5. ะะปั iOS ะฒัะฑัะฐัั: **Compose UI** ะธะปะธ **SwiftUI (native)**
6. **Create**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    NEW KMP PROJECT                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                             โ
โ  Name: MyKmpApp                                             โ
โ  Location: ~/Projects/MyKmpApp                              โ
โ  JDK: JetBrains Runtime 17 (recommended)                   โ
โ                                                             โ
โ  Targets:                                                   โ
โ  โ Android                                                  โ
โ  โ iOS                                                      โ
โ    โ Compose Multiplatform UI                               โ
โ    โ Native SwiftUI (recommended for start)                โ
โ  โ Desktop                                                  โ
โ  โ Web                                                      โ
โ                                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ะจะฐะณ 3: ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

ะะพัะปะต ัะพะทะดะฐะฝะธั ะฟัะพะตะบั ะฒัะณะปัะดะธั ัะฐะบ:

```
MyKmpApp/
โโโ shared/                        # ๐ฆ ะะะฉะะ ะะะะฃะะฌ
โ   โโโ src/
โ   โ   โโโ commonMain/           # ะะพะด ะดะปั ะะกะะฅ ะฟะปะฐััะพัะผ
โ   โ   โ   โโโ kotlin/
โ   โ   โ       โโโ Greeting.kt   # ะัะธะผะตั ะพะฑัะตะณะพ ะบะพะดะฐ
โ   โ   โโโ commonTest/           # ะขะตััั ะดะปั ะพะฑัะตะณะพ ะบะพะดะฐ
โ   โ   โโโ androidMain/          # Android-ัะฟะตัะธัะธัะฝัะน ะบะพะด
โ   โ   โ   โโโ kotlin/
โ   โ   โ       โโโ Platform.android.kt
โ   โ   โโโ iosMain/              # iOS-ัะฟะตัะธัะธัะฝัะน ะบะพะด
โ   โ       โโโ kotlin/
โ   โ           โโโ Platform.ios.kt
โ   โโโ build.gradle.kts          # ะะพะฝัะธะณััะฐัะธั shared ะผะพะดัะปั
โ
โโโ composeApp/                    # ๐ฑ ANDROID ะะะะะะะะะะ
โ   โโโ src/
โ       โโโ androidMain/
โ           โโโ kotlin/
โ               โโโ MainActivity.kt
โ
โโโ iosApp/                        # ๐ iOS ะะะะะะะะะะ (Xcode)
โ   โโโ iosApp.xcodeproj
โ   โโโ iosApp/
โ       โโโ ContentView.swift
โ
โโโ build.gradle.kts              # ะะพัะฝะตะฒะพะน Gradle
โโโ settings.gradle.kts
โโโ gradle.properties
```

### ะะปััะตะฒัะต ัะฐะนะปั

**shared/src/commonMain/kotlin/Greeting.kt** โ ะฟัะธะผะตั ะพะฑัะตะณะพ ะบะพะดะฐ:

```kotlin
class Greeting {
    private val platform = getPlatform()

    fun greet(): String {
        return "Hello, ${platform.name}!"
    }
}
```

**shared/src/commonMain/kotlin/Platform.kt** โ expect declaration:

```kotlin
interface Platform {
    val name: String
}

expect fun getPlatform(): Platform
```

**shared/src/androidMain/kotlin/Platform.android.kt** โ actual ะดะปั Android:

```kotlin
class AndroidPlatform : Platform {
    override val name: String = "Android ${android.os.Build.VERSION.SDK_INT}"
}

actual fun getPlatform(): Platform = AndroidPlatform()
```

**shared/src/iosMain/kotlin/Platform.ios.kt** โ actual ะดะปั iOS:

```kotlin
import platform.UIKit.UIDevice

class IOSPlatform : Platform {
    override val name: String = UIDevice.currentDevice.systemName() + " " +
            UIDevice.currentDevice.systemVersion
}

actual fun getPlatform(): Platform = IOSPlatform()
```

---

## ะจะฐะณ 4: ะะฐะฟััะบ ะฟัะพะตะบัะฐ

### Android

1. ะัะฑัะฐัั run configuration: **composeApp** (ะธะปะธ **androidApp**)
2. ะัะฑัะฐัั ัะผัะปััะพั ะธะปะธ ััััะพะนััะฒะพ
3. ะะฐะถะฐัั **Run** (โถ๏ธ) ะธะปะธ `Shift+F10`

### iOS (ัะพะปัะบะพ macOS)

1. ะัะฑัะฐัั run configuration: **iosApp**
2. ะัะฑัะฐัั iOS ัะธะผัะปััะพั
3. ะะฐะถะฐัั **Run** (โถ๏ธ)

**ะะตัะฒัะน ะทะฐะฟััะบ iOS ะทะฐะฝะธะผะฐะตั ะฒัะตะผั!** Kotlin/Native ัะพะฑะธัะฐะตั native dependencies.

### ะะปััะตัะฝะฐัะธะฒะฐ: ะทะฐะฟััะบ ัะตัะตะท Xcode

```bash
cd iosApp
open iosApp.xcodeproj
```

ะ Xcode: ะฒัะฑัะฐัั ัะธะผัะปััะพั โ Run (โR)

---

## ะจะฐะณ 5: ะะพะฑะฐะฒะปะตะฝะธะต ะฟะตัะฒะพะน shared ััะฝะบัะธะธ

ะะพะฑะฐะฒะธะผ ะฟัะพัััั ััะฝะบัะธั ะฒ shared ะผะพะดัะปั:

**shared/src/commonMain/kotlin/Calculator.kt**:

```kotlin
object Calculator {
    fun add(a: Int, b: Int): Int = a + b
    fun multiply(a: Int, b: Int): Int = a * b

    fun fibonacci(n: Int): Long {
        if (n <= 1) return n.toLong()
        var a = 0L
        var b = 1L
        repeat(n - 1) {
            val sum = a + b
            a = b
            b = sum
        }
        return b
    }
}
```

ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฝะฐ Android (Compose):

```kotlin
@Composable
fun CalculatorScreen() {
    var result by remember { mutableStateOf(0) }

    Column {
        Text("Result: $result")
        Button(onClick = { result = Calculator.add(2, 3) }) {
            Text("Add 2 + 3")
        }
    }
}
```

ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฝะฐ iOS (SwiftUI):

```swift
import Shared  // ะะผะฟะพัั KMP framework

struct CalculatorView: View {
    @State private var result: Int32 = 0

    var body: some View {
        VStack {
            Text("Result: \(result)")
            Button("Add 2 + 3") {
                result = Calculator.shared.add(a: 2, b: 3)
            }
        }
    }
}
```

---

## ะขะธะฟะธัะฝัะต ะพัะธะฑะบะธ ะฝะพะฒะธัะบะพะฒ

### 1. Xcode ะฝะต ะทะฐะฟััะตะฝ

```
โ Error: Xcode not found or not configured
```

**ะะตัะตะฝะธะต:** ะะฐะฟัััะธัั Xcode ัะพัั ะฑั ัะฐะท, ะฟัะธะฝััั ะปะธัะตะฝะทะธั.

### 2. ะััััััะฒัะตั ANDROID_HOME

```
โ Error: SDK location not found
```

**ะะตัะตะฝะธะต:** ะฃััะฐะฝะพะฒะธัั environment variable ANDROID_HOME.

### 3. K2 mode ะฝะต ะฒะบะปััะตะฝ

```
โ๏ธ Warning: K2 mode is recommended for KMP
```

**ะะตัะตะฝะธะต:** Settings โ Languages & Frameworks โ Kotlin โ Enable K2 mode.

### 4. ะัะฟะพะปัะทะพะฒะฐะฝะธะต `!!` ะฒะผะตััะพ safe calls

```kotlin
// โ ะะปะพัะพ โ ะผะพะถะตั crashะฝััััั
val length = str!!.length

// โ ะฅะพัะพัะพ โ ะฑะตะทะพะฟะฐัะฝะพ
val length = str?.length ?: 0
```

### 5. Swallowing CancellationException

```kotlin
// โ ะะปะพัะพ โ ะปะพะผะฐะตั coroutine cancellation
try {
    suspendFunction()
} catch (e: Exception) {
    // CancellationException ัะพะถะต ะปะพะฒะธััั!
}

// โ ะฅะพัะพัะพ โ ะฟัะพะฑัะฐััะฒะฐะตะผ CancellationException
try {
    suspendFunction()
} catch (e: CancellationException) {
    throw e
} catch (e: Exception) {
    // Handle other exceptions
}
```

### 6. ะะทะผะตะฝะตะฝะธั ะฒ Kotlin ะฝะต ะพััะฐะถะฐัััั ะฒ iOS

**ะัะธัะธะฝะฐ:** Xcode ะบััะธััะตั ััะฐััะน framework.

**ะะตัะตะฝะธะต:**
1. Product โ Clean Build Folder (โโงK)
2. ะะตัะตัะพะฑัะฐัั shared ะผะพะดัะปั ะฒ IDE

---

## iOS Integration: ะฒัะฑะพั ะผะตัะพะดะฐ

| ะะตัะพะด | ะะปััั | ะะธะฝััั | ะะพะณะดะฐ ะธัะฟะพะปัะทะพะฒะฐัั |
|-------|-------|--------|-------------------|
| **Direct Integration** | ะัะพััะพัะฐ, ะฐะฒัะพะบะพะฝัะธะณััะฐัะธั | ะะตะปัะทั ะดะพะฑะฐะฒะธัั Pod-ะทะฐะฒะธัะธะผะพััะธ | ะัะพัััะต ะฟัะพะตะบัั, ะฝะฐัะฐะปะพ |
| **CocoaPods** | Pod-ะทะฐะฒะธัะธะผะพััะธ ัะฐะฑะพัะฐัั | ะกะปะพะถะฝะตะต ะฝะฐัััะพะนะบะฐ | ะัะพะตะบั ะธัะฟะพะปัะทัะตั Pods |
| **SPM** | Familiar ะดะปั iOS-ัะฐะทัะฐะฑะพััะธะบะพะฒ | Manual config, ะฑะพะปััะต ัะฐะณะพะฒ | Remote distribution |

**ะะตะบะพะผะตะฝะดะฐัะธั ะดะปั ะฝะฐัะฐะปะฐ:** Direct Integration (ะฟะพ ัะผะพะปัะฐะฝะธั ะฒ wizard).

---

## ะงัะพ ะดะฐะปััะต?

ะะพัะปะต ะฟะตัะฒะพะณะพ ะฟัะพะตะบัะฐ ะธะทััะธัั:

1. [[kmp-project-structure]] โ ะณะปัะฑะพะบะพะต ะฟะพะฝะธะผะฐะฝะธะต ััััะบัััั
2. [[kmp-expect-actual]] โ ะผะตัะฐะฝะธะทะผ ะฟะปะฐััะพัะผะพ-ะทะฐะฒะธัะธะผัั ัะตะฐะปะธะทะฐัะธะน
3. [[kmp-source-sets]] โ ะธะตัะฐััะธั source sets
4. [[kmp-ktor-networking]] โ ัะตัะตะฒัะต ะทะฐะฟัะพัั ะฒ KMP

---

## ะัะพ ะธัะฟะพะปัะทัะตั ะธ ัะตะฐะปัะฝัะต ะฟัะธะผะตัั

| ะะพะผะฟะฐะฝะธั | ะะพะฝัะตะบัั | ะะฐััะตัะฝ ะฝะฐัะฐะปะฐ |
|----------|----------|----------------|
| **Netflix** | Mobile studio apps | ะะฐัะฐะปะธ ัะพ shared data layer |
| **McDonald's** | Global mobile app | Shared business logic, native UI |
| **Philips** | Healthcare apps | ะะพััะตะฟะตะฝะฝะฐั ะผะธะณัะฐัะธั ะผะพะดัะปั ะทะฐ ะผะพะดัะปะตะผ |
| **Cash App** | Fintech | KMP ะดะปั ะบัะธัะธัะตัะบะพะน ะฑะธะทะฝะตั-ะปะพะณะธะบะธ |

### Netflix: ะฟะพะดัะพะด ะบ ััะฐััั

> "The smallest realistic project to actually prove KMP in your environment is a shared data or utility layer โ something both applications can call without touching the UI."

---

## ะะธัั ะธ ะทะฐะฑะปัะถะดะตะฝะธั ะพ ััะฐััะต ั KMP

### โ "ะัะถะฝะพ ััะฐะทั ะฝะฐัััะฐะธะฒะฐัั ะฒัะต ะฟะปะฐััะพัะผั"

**ะะตะฐะปัะฝะพััั:** ะะฐัะฝะธัะต ั **ะพะดะฝะพะน ะฟะฐัั** โ Android + iOS ะธะปะธ Android + Desktop. ะะพะฑะฐะฒะปัะนัะต ะดััะณะธะต targets ะฟะพััะตะฟะตะฝะฝะพ. KMP wizard ะดะฐะถะต ะฟัะตะดะปะฐะณะฐะตั ะฒัะฑัะฐัั ะบะพะฝะบัะตัะฝัะต targets.

### โ "KMP ะฟัะพะตะบั ัะปะพะถะฝะตะต ะพะฑััะฝะพะณะพ Android ะฟัะพะตะบัะฐ"

**ะะตะฐะปัะฝะพััั:** ะกัััะบัััะฐ ะฟัะฐะบัะธัะตัะบะธ ะธะดะตะฝัะธัะฝะฐ. `commonMain` = ะดะพะฟะพะปะฝะธัะตะปัะฝะฐั ะฟะฐะฟะบะฐ ะดะปั shared ะบะพะดะฐ. ะัะปะธ ะฒั ะทะฝะฐะตัะต Gradle โ ะฝะฐัััะพะนะบะฐ ะทะฐะฝะธะผะฐะตั 10-15 ะผะธะฝัั.

```
Android-only:                   KMP:
app/                            shared/
โโโ src/main/kotlin/            โโโ src/commonMain/kotlin/  โ NEW
                                โโโ src/androidMain/kotlin/
                                composeApp/
                                โโโ src/androidMain/kotlin/
```

### โ "ะะตัะฒัะน ะฟัะพะตะบั ะดะพะปะถะตะฝ ะฑััั ั shared UI"

**ะะตะฐะปัะฝะพััั:** Netflix, McDonald's ะธ ะดััะณะธะต ะบััะฟะฝัะต ะบะพะผะฟะฐะฝะธะธ **ะฝะฐัะธะฝะฐะปะธ ัะพ shared data layer** โ networking, repositories, use cases. UI ะพััะฐะฒะฐะปัั ะฝะฐัะธะฒะฝัะผ. ะญัะพ **ะฝะฐะธะผะตะฝะตะต ัะธัะบะพะฒะฐะฝะฝัะน** ะฟะพะดัะพะด.

### โ "K2 mode ะพะฟัะธะพะฝะฐะปะตะฝ"

**ะะตะฐะปัะฝะพััั:** K2 โ ััะพ **ะฝะพะฒัะน ะบะพะผะฟะธะปััะพั Kotlin 2.0**, ะฐ ะฝะต ะฟัะพััะพ "mode". ะะฝ:
- ะ 2 ัะฐะทะฐ ะฑััััะตะต ะบะพะผะฟะธะปะธััะตั
- ะัััะต ะฒัะฒะพะดะธั ัะธะฟั
- ะะฑัะทะฐัะตะปะตะฝ ะดะปั ะฝะตะบะพัะพััั ะฝะพะฒัั ัะธั

**ะะบะปััะฐะนัะต ััะฐะทั** โ ะฝะตั ะฟัะธัะธะฝ ะธัะฟะพะปัะทะพะฒะฐัั ััะฐััะน ะบะพะผะฟะธะปััะพั ะฒ ะฝะพะฒัั ะฟัะพะตะบัะฐั.

### โ "IDE ะฝะต ะฒะฐะถะฝะฐ โ ะผะพะถะฝะพ ัะฐะฑะพัะฐัั ะธะท ะบะพะผะฐะฝะดะฝะพะน ัััะพะบะธ"

**ะะตะฐะปัะฝะพััั:** IDE ะดะฐัั ะบัะธัะธัะตัะบะธะน DX:
- Preflight checks (ะฐะฒัะพะฟัะพะฒะตัะบะฐ ะพะบััะถะตะฝะธั)
- Run configurations ะดะปั Android/iOS
- ะะฐะฒะธะณะฐัะธั ะผะตะถะดั expect/actual
- Debugging ะพะฑะพะธั ะฟะปะฐััะพัะผ

ะะพะผะฐะฝะดะฝะฐั ัััะพะบะฐ ัะฐะฑะพัะฐะตั ะดะปั CI, ะฝะพ ะดะปั ัะฐะทัะฐะฑะพัะบะธ โ IDE must-have.

### โ "CocoaPods ะพะฑัะทะฐัะตะปะตะฝ ะดะปั iOS"

**ะะตะฐะปัะฝะพััั:** ะััั **ััะธ ัะฟะพัะพะฑะฐ** ะธะฝัะตะณัะฐัะธะธ ั iOS:

| ะะตัะพะด | ะะพะณะดะฐ ะธัะฟะพะปัะทะพะฒะฐัั |
|-------|-------------------|
| Direct Integration | ะะพ ัะผะพะปัะฐะฝะธั, ะฟัะพัะต ะฒัะตะณะพ |
| CocoaPods | ะัะปะธ ะฟัะพะตะบั ัะถะต ะธัะฟะพะปัะทัะตั Pods |
| SPM | ะะปั distribution ะธะปะธ ัะธััะพะณะพ Swift-ะฟัะพะตะบัะฐ |

**Direct Integration** โ ัะตะบะพะผะตะฝะดัะตััั ะดะปั ะฝะฐัะฐะปะฐ.

---

## ะะตะบะพะผะตะฝะดัะตะผัะต ะธััะพัะฝะธะบะธ

| ะััะพัะฝะธะบ | ะขะธะฟ | ะะฟะธัะฐะฝะธะต |
|----------|-----|----------|
| [KMP Quickstart](https://kotlinlang.org/docs/multiplatform/quickstart.html) | Official Doc | ะัะธัะธะฐะปัะฝัะน ะณะฐะนะด ะพั JetBrains |
| [Create First App](https://kotlinlang.org/docs/multiplatform/multiplatform-create-first-app.html) | Tutorial | Step-by-step ัััะพัะธะฐะป |
| [Android Developers Codelab](https://developer.android.com/codelabs/kmp-get-started) | Codelab | ะะฝัะตัะฐะบัะธะฒะฝัะน ะบััั ะพั Google |
| [KMP Learning Resources](https://kotlinlang.org/docs/multiplatform/kmp-learning-resources.html) | Collection | 30+ ะผะฐัะตัะธะฐะปะพะฒ ะฟะพ ััะพะฒะฝัะผ |
| [Philipp Lackner - CMP Crash Course](https://www.youtube.com/watch?v=WT9-4DXUqsM) | Video | 5-ัะฐัะพะฒะพะน ะบััั (ะฑะตัะฟะปะฐัะฝะพ) |
| [Kotlin Multiplatform by Tutorials](https://www.kodeco.com/books/kotlin-multiplatform-by-tutorials/v3.0) | Book | ะะพะผะฟะปะตะบัะฝะฐั ะบะฝะธะณะฐ (~$60) |

### CS-ััะฝะดะฐะผะตะฝั

| ะะพะฝัะตะฟัะธั | ะะฐัะตัะธะฐะป | ะะพัะตะผั ะฒะฐะถะฝะพ |
|-----------|----------|--------------|
| Compilation Pipeline | [[compilation-pipeline]] | ะะฐะบ Kotlin ะฟัะตะฒัะฐัะฐะตััั ะฒ native/JVM/JS |
| Build Systems | [[build-systems-theory]] | ะะพะฝะธะผะฐะฝะธะต Gradle tasks, caching, DAG |
| Dependency Resolution | [[dependency-resolution]] | ะะฐะบ Gradle ัะฐะทัะตัะฐะตั ะทะฐะฒะธัะธะผะพััะธ ะดะปั ัะฐะทะฝัั targets |

---

## ะกะฒัะทั ั ะดััะณะธะผะธ ัะตะผะฐะผะธ

- **[[kmp-project-structure]]** โ ะะพัะปะต ัะพะทะดะฐะฝะธั ะฟะตัะฒะพะณะพ ะฟัะพะตะบัะฐ ัะปะตะดัััะธะน ัะฐะณ โ ะฟะพะฝััั ะตะณะพ ะฒะฝัััะตะฝะฝะตะต ััััะพะนััะฒะพ. ะญัะพั ะผะฐัะตัะธะฐะป ะดะตัะฐะปัะฝะพ ะพะฑัััะฝัะตั, ััะพ ัะฐะบะพะต targets, source sets, default hierarchy template ะธ ะบะฐะบ Gradle ะบะพะพัะดะธะฝะธััะตั ะบะพะผะฟะธะปััะธั ะดะปั ัะฐะทะฝัั ะฟะปะฐััะพัะผ. ะะพะฝะธะผะฐะฝะธะต ััััะบัััั ะฟัะตะฒัะฐัะฐะตั ะฟัะพะตะบั ะธะท ยซะผะฐะณะธัะตัะบะพะน ัะฐะฑะปะพะฝะฝะพะน ะฟะฐะฟะบะธยป ะฒ ะพัะพะทะฝะฐะฝะฝัั ะฐััะธัะตะบัััั, ะบะพัะพััั ะฒั ะผะพะถะตัะต ะผะพะดะธัะธัะธัะพะฒะฐัั ะฟะพะด ัะฒะพะธ ะฝัะถะดั.

- **[[kmp-expect-actual]]** โ ะะตัะฐะฝะธะทะผ expect/actual โ ะฟะตัะฒัะน ะธะฝััััะผะตะฝั ะฟะปะฐััะพัะผะพ-ะทะฐะฒะธัะธะผะพะณะพ ะบะพะดะฐ, ะบะพัะพััะน ะฒั ะฒัััะตัะธัะต ะฒ ัะฐะฑะปะพะฝะฝะพะผ ะฟัะพะตะบัะต (Platform.kt). ะคะฐะนะปั Platform.android.kt ะธ Platform.ios.kt โ ััะพ actual-ัะตะฐะปะธะทะฐัะธะธ expect-ะดะตะบะปะฐัะฐัะธะธ ะธะท commonMain. ะะพะฝะธะผะฐะฝะธะต ััะพะณะพ ะผะตัะฐะฝะธะทะผะฐ ะฟะพะทะฒะพะปัะตั ะฒัะนัะธ ะทะฐ ัะฐะผะบะธ ัะฐะฑะปะพะฝะฐ ะธ ะฝะฐัะฐัั ะฒัะฝะพัะธัั ัะตะฐะปัะฝัั ะฑะธะทะฝะตั-ะปะพะณะธะบั ะฒ shared-ะผะพะดัะปั ั ะฟะปะฐััะพัะผะตะฝะฝัะผะธ ัะตะฐะปะธะทะฐัะธัะผะธ.

- **[[kotlin-overview]]** โ KMP โ ััะพ Kotlin, ะธ ะทะฝะฐะฝะธะต ัะทัะบะฐ ะฝะฐ ะฑะฐะทะพะฒะพะผ ััะพะฒะฝะต ัะฒะปัะตััั ะพะฑัะทะฐัะตะปัะฝัะผ prerequisite. Data classes, sealed classes, extensions, null safety, coroutines โ ะฒัั ััะพ ัะพััะฐะฒะปัะตั ะพัะฝะพะฒั shared-ะบะพะดะฐ. ะัะปะธ Kotlin ะตัั ะฝะต ะทะฝะฐะบะพะผ, ัะตะบะพะผะตะฝะดัะตััั ะฝะฐัะฐัั ั ะพะฑะทะพัะฐ ัะทัะบะฐ ะธ ะทะฐัะตะผ ะฒะตัะฝััััั ะบ KMP. ะะปั Android-ัะฐะทัะฐะฑะพััะธะบะพะฒ ะฐะดะฐะฟัะฐัะธั ะทะฐะฝะธะผะฐะตั 1-2 ะฝะตะดะตะปะธ, ะดะปั iOS-ัะฐะทัะฐะฑะพััะธะบะพะฒ โ 2-4 ะฝะตะดะตะปะธ.

## ะััะพัะฝะธะบะธ ะธ ะดะฐะปัะฝะตะนัะตะต ััะตะฝะธะต

- Jemerov D., Isakova S. (2017). *Kotlin in Action.* โ ะัััะฐั ะบะฝะธะณะฐ ะดะปั ะธะทััะตะฝะธั Kotlin ั ะฝัะปั ะธะปะธ ัะธััะตะผะฐัะธะทะฐัะธะธ ะธะผะตััะธััั ะทะฝะฐะฝะธะน. ะัะฒะฐััะฒะฐะตั ะฒัั, ััะพ ะฝัะถะฝะพ ะดะปั ะฝะฐัะฐะปะฐ ัะฐะฑะพัั ั KMP: ะพั ะฑะฐะทะพะฒะพะณะพ ัะธะฝัะฐะบัะธัะฐ ะดะพ ะฟัะพะดะฒะธะฝัััั ัะธั (generics, delegated properties, DSL). ะะฑัะทะฐัะตะปัะฝะฐ ะบ ะฟัะพััะตะฝะธั ะฟะตัะตะด ัะตัััะทะฝะพะน ัะฐะฑะพัะพะน ั shared-ะบะพะดะพะผ.

- Moskala M. (2021). *Effective Kotlin.* โ ะะพัะปะต ะพัะฒะพะตะฝะธั ะพัะฝะพะฒ Kotlin ััะฐ ะบะฝะธะณะฐ ะฟะพะผะพะถะตั ะฟะธัะฐัั ะธะดะธะพะผะฐัะธัะฝัะน ะบะพะด ะฒ shared-ะผะพะดัะปะต. ะกะพะฒะตัั ะฟะพ ัะฐะฑะพัะต ั ะบะพะปะปะตะบัะธัะผะธ, null safety ะธ ะฟัะพะตะบัะธัะพะฒะฐะฝะธั API ะพัะพะฑะตะฝะฝะพ ะฐะบััะฐะปัะฝั, ะฟะพัะบะพะปัะบั ะบะพะด ะฒ commonMain ะดะพะปะถะตะฝ ะฑััั ะบะฐัะตััะฒะตะฝะฝัะผ โ ะพะฝ ะธัะฟะพะปัะทัะตััั ะฝะฐ ะฒัะตั ะฟะปะฐััะพัะผะฐั.

- Moskala M. (2022). *Kotlin Coroutines: Deep Dive.* โ ะะพัััะธะฝั โ ะพัะฝะพะฒะฐ ะฐัะธะฝััะพะฝะฝะพะณะพ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั ะฒ KMP (ัะตัะตะฒัะต ะทะฐะฟัะพัั, ัะฐะฑะพัะฐ ั ะะ, UI-ะพะฑะฝะพะฒะปะตะฝะธั). ะะฝะธะณะฐ ะพะฑัััะฝัะตั suspend-ััะฝะบัะธะธ, Flow, structured concurrency ะธ dispatcher โ ะฒัั ัะพ, ััะพ ัะพััะฐะฒะปัะตั ัะดัะพ shared business logic.

---

*ะัะพะฒะตัะตะฝะพ: 2026-01-09 | KMP Stable, Kotlin 2.1.21, Android Studio Otter 2025.2.1, IntelliJ IDEA 2025.2.2*
